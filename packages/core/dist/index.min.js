!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["web-see"]=t()}(this,function(){"use strict";var E,C,b,g,R,T,O,N="1.0.0";(e=E=E||{}).Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss",(e=C=C||{}).HTTP="Http",e.CLICK="Click",e.RESOURCE="Resource_Error",e.CODEERROR="Code_Error",e.ROUTE="Route",e.CUSTOM="Custom",(e=b=b||{}).ERROR="error",e.OK="ok",(e=g=g||{}).XHR="xhr",e.FETCH="fetch",e.CLICK="click",e.HISTORY="history",e.ERROR="error",e.HASHCHANGE="hashchange",e.UNHANDLEDREJECTION="unhandledrejection",e.RESOURCE="resource",e.DOM="dom",e.VUE="vue",e.REACT="react",e.CUSTOM="custom",e.PERFORMANCE="performance",e.RECORDSCREEN="recordScreen",e.WHITESCREEN="whiteScreen",(e=R=R||{}).XHR="xhr",e.FETCH="fetch",(e=T=T||{})[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",(e=O=O||{}).Get="GET",e.Post="POST",e.Put="PUT",e.Delete="DELETE";const A=0,L=1;function M(e){let t=e.length;for(;0<=--t;)e[t]=0}const z=29,F=256,U=F+1+z,H=30,P=19,W=2*U+1,q=15,G=16,V=7,J=256,Y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Q=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);const te=new Array(2*(U+2)),ne=(M(te),new Array(2*H)),re=(M(ne),new Array(512)),ae=(M(re),new Array(256)),ie=(M(ae),new Array(z)),oe=(M(ie),new Array(H));function se(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}M(oe);let le,ue,ce;function de(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const he=e=>e<256?re[e]:re[256+(e>>>7)],fe=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},pe=(e,t,n)=>{e.bi_valid>G-n?(e.bi_buf|=t<<e.bi_valid&65535,fe(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=n-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},me=(e,t,n)=>{pe(e,n[2*t],n[2*t+1])},we=(e,t)=>{let n=0;for(;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1},_e=(e,t)=>{var n,r=t.dyn_tree,a=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,d,h,f,p,m=0;for(f=0;f<=q;f++)e.bl_count[f]=0;for(r[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<W;c++)d=e.heap[c],(f=r[2*r[2*d+1]+1]+1)>u&&(f=u,m++),r[2*d+1]=f,d>a||(e.bl_count[f]++,p=0,d>=l&&(p=s[d-l]),n=r[2*d],e.opt_len+=n*(f+p),o&&(e.static_len+=n*(i[2*d+1]+p)));if(0!==m){do{for(f=u-1;0===e.bl_count[f];)f--}while(e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[u]--,0<(m-=2));for(f=u;0!==f;f--)for(d=e.bl_count[f];0!==d;)a<(h=e.heap[--c])||(r[2*h+1]!==f&&(e.opt_len+=(f-r[2*h+1])*r[2*h],r[2*h+1]=f),d--)}},ke=(e,t,n)=>{var r=new Array(q+1);let a=0,i,o;for(i=1;i<=q;i++)a=a+n[i-1]<<1,r[i]=a;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=we(r[s]++,s))}},Se=e=>{let t;for(t=0;t<U;t++)e.dyn_ltree[2*t]=0;for(t=0;t<H;t++)e.dyn_dtree[2*t]=0;for(t=0;t<P;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},xe=e=>{8<e.bi_valid?fe(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ee=(e,t,n,r)=>{var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},Ce=(e,t,n)=>{var r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ee(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ee(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},Re=(e,t,n)=>{var r,a,i,o;let s=0;if(0!==e.sym_next)for(;r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,a=e.pending_buf[e.sym_buf+s++],0==r?me(e,a,t):(i=ae[a],me(e,i+F+1,t),0!==(o=Y[i])&&(a-=ie[i],pe(e,a,o)),r--,i=he(r),me(e,i,n),0!==(o=$[i])&&(r-=oe[i],pe(e,r,o))),s<e.sym_next;);me(e,J,t)},Te=(e,t)=>{var n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,s,l=-1,u;for(e.heap_len=0,e.heap_max=W,o=0;o<i;o++)0!==n[2*o]?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[2*o+1]=0;for(;e.heap_len<2;)n[2*(u=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[u]=0,e.opt_len--,a&&(e.static_len-=r[2*u+1]);for(t.max_code=l,o=e.heap_len>>1;1<=o;o--)Ce(e,n,o);for(u=i;o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ce(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,n[2*u]=n[2*o]+n[2*s],e.depth[u]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,n[2*o+1]=n[2*s+1]=u,e.heap[1]=u++,Ce(e,n,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],_e(e,t),ke(n,l,e.bl_count)},Oe=(e,t,n)=>{let r,a=-1;var i;let o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,u=0===o?(l=138,3):i===o?(l=6,3):(l=7,4))},Ie=(e,t,n)=>{let r,a=-1;var i;let o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<l&&i===o)){if(s<u)for(;me(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(me(e,i,e.bl_tree),s--),me(e,16,e.bl_tree),pe(e,s-3,2)):s<=10?(me(e,17,e.bl_tree),pe(e,s-3,3)):(me(e,18,e.bl_tree),pe(e,s-11,7));s=0,a=i,u=0===o?(l=138,3):i===o?(l=6,3):(l=7,4)}};let Ne=!1;const Ae=(e,t,n,r)=>{pe(e,0+(r?1:0),3),xe(e),fe(e,n),fe(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var e={_tr_init:e=>{if(!Ne){{let e,t,n,r,a;var i=new Array(q+1);for(n=0,r=0;r<z-1;r++)for(ie[r]=n,e=0;e<1<<Y[r];e++)ae[n++]=r;for(ae[n-1]=r,a=0,r=0;r<16;r++)for(oe[r]=a,e=0;e<1<<$[r];e++)re[a++]=r;for(a>>=7;r<H;r++)for(oe[r]=a<<7,e=0;e<1<<$[r]-7;e++)re[256+a++]=r;for(t=0;t<=q;t++)i[t]=0;for(e=0;e<=143;)te[2*e+1]=8,e++,i[8]++;for(;e<=255;)te[2*e+1]=9,e++,i[9]++;for(;e<=279;)te[2*e+1]=7,e++,i[7]++;for(;e<=287;)te[2*e+1]=8,e++,i[8]++;for(ke(te,U+1,i),e=0;e<H;e++)ne[2*e+1]=5,ne[2*e]=we(e,5);le=new se(te,Y,F+1,U,q),ue=new se(ne,$,0,H,q),ce=new se(new Array(0),Q,0,P,V)}Ne=!0}e.l_desc=new de(e.dyn_ltree,le),e.d_desc=new de(e.dyn_dtree,ue),e.bl_desc=new de(e.bl_tree,ce),e.bi_buf=0,e.bi_valid=0,Se(e)},_tr_stored_block:Ae,_tr_flush_block:(t,n,r,e)=>{let a,i,o=0;if(0<t.level?(2===t.strm.data_type&&(t.strm.data_type=(e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return A;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(n=32;n<F;n++)if(0!==e.dyn_ltree[2*n])return L;return A})(t)),Te(t,t.l_desc),Te(t,t.d_desc),o=(e=>{let t;for(Oe(e,e.dyn_ltree,e.l_desc.max_code),Oe(e,e.dyn_dtree,e.d_desc.max_code),Te(e,e.bl_desc),t=P-1;3<=t&&0===e.bl_tree[2*ee[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(t),a=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==n)Ae(t,n,r,e);else if(4===t.strategy||i===a)pe(t,2+(e?1:0),3),Re(t,te,ne);else{pe(t,4+(e?1:0),3);{var s=t;n=t.l_desc.max_code+1;r=t.d_desc.max_code+1;var l=o+1;let e;for(pe(s,n-257,5),pe(s,r-1,5),pe(s,l-4,4),e=0;e<l;e++)pe(s,s.bl_tree[2*ee[e]+1],3);Ie(s,s.dyn_ltree,n-1),Ie(s,s.dyn_dtree,r-1)}Re(t,t.dyn_ltree,t.dyn_dtree)}Se(t),e&&xe(t)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ae[n]+F+1)]++,e.dyn_dtree[2*he(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{pe(e,2,3),me(e,J,te),16===(e=e).bi_valid?(fe(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},De=(e,t,n,r)=>{let a=65535&e|0,i=e>>>16&65535|0,o=0;for(;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+t[r++]|0,i=i+a|0,--o;);a%=65521,i%=65521}return a|i<<16|0};const Le=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var K=(t,n,e,r)=>{var a=Le,i=r+e;t^=-1;for(let e=r;e<i;e++)t=t>>>8^a[255&(t^n[e])];return-1^t},Me={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ze={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Fe,_tr_stored_block:Ue,_tr_flush_block:He,_tr_tally:Pe,_tr_align:Be}=e,{Z_NO_FLUSH:je,Z_PARTIAL_FLUSH:Ze,Z_FULL_FLUSH:We,Z_FINISH:qe,Z_BLOCK:Ge,Z_OK:l,Z_STREAM_END:Ve,Z_STREAM_ERROR:Ke,Z_DATA_ERROR:Xe,Z_BUF_ERROR:Je,Z_DEFAULT_COMPRESSION:Ye,Z_FILTERED:$e,Z_HUFFMAN_ONLY:Qe,Z_RLE:et,Z_FIXED:tt,Z_DEFAULT_STRATEGY:nt,Z_UNKNOWN:rt,Z_DEFLATED:at}=ze,it=9;const ot=286,st=30,lt=19,ut=2*ot+1,ct=15,u=3,dt=258,ht=dt+u+1,ft=42,pt=57,mt=69,vt=73,bt=91,gt=103,yt=113,wt=666,_t=1,kt=2,St=3,xt=4,Et=(e,t)=>(e.msg=Me[t],t),Ct=e=>2*e-(4<e?9:0),Rt=e=>{let t=e.length;for(;0<=--t;)e[t]=0},Tt=e=>{let t,n,r;var a=e.w_size;for(t=e.hash_size,r=t;n=e.head[--r],e.head[r]=n>=a?n-a:0,--t;);for(t=a,r=t;n=e.prev[--r],e.prev[r]=n>=a?n-a:0,--t;);};let Ot=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const It=e=>{var t=e.state;let n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)},Nt=(e,t)=>{He(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,It(e.strm)},o=(e,t)=>{e.pending_buf[e.pending++]=t},At=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Dt=(e,t,n,r)=>{let a=e.avail_in;return 0===(a=a>r?r:a)?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=De(e.adler,t,a,n):2===e.state.wrap&&(e.adler=K(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Lt=(e,t)=>{let n=e.max_chain_length,r=e.strstart,a;var i;let o=e.prev_length,s=e.nice_match;var l=e.strstart>e.w_size-ht?e.strstart-(e.w_size-ht):0,u=e.window,c=e.w_mask,d=e.prev,h=e.strstart+dt;let f=u[r+o-1],p=u[r+o];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(a=t)+o]===p&&u[a+o-1]===f&&u[a]===u[r]&&u[++a]===u[r+1]){for(r+=2,a++;u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&u[++r]===u[++a]&&r<h;);if(i=dt-(h-r),r=h-dt,i>o){if(e.match_start=t,(o=i)>=s)break;f=u[r+o-1],p=u[r+o]}}}while((t=d[t&c])>l&&0!=--n);return o<=e.lookahead?o:e.lookahead},Mt=e=>{var t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ht)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Tt(e),r+=t),0===e.strm.avail_in)break;if(n=Dt(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=u)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ot(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ot(e,e.ins_h,e.window[a+u-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<u)););}while(e.lookahead<ht&&0!==e.strm.avail_in)},zt=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,a,i,o=0;for(var s=e.strm.avail_in;r=65535,i=e.bi_valid+42>>3,!(e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,(r=(r=r>a+e.strm.avail_in?a+e.strm.avail_in:r)>i?i:r)<n&&(0===r&&t!==qe||t===je||r!==a+e.strm.avail_in))||(o=t===qe&&r===a+e.strm.avail_in?1:0,Ue(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,It(e.strm),a&&(a>r&&(a=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,r-=a),r&&(Dt(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r),0!==o)););return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart)&&(e.insert=e.strstart),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?xt:t!==je&&t!==qe&&0===e.strm.avail_in&&e.strstart===e.block_start?kt:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart)&&(e.insert=e.strstart),(i=i>e.strm.avail_in?e.strm.avail_in:i)&&(Dt(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=65535<e.pending_buf_size-i?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,((a=e.strstart-e.block_start)>=n||(a||t===qe)&&t!==je&&0===e.strm.avail_in&&a<=i)&&(r=a>i?i:a,o=t===qe&&0===e.strm.avail_in&&r===a?1:0,Ue(e,e.block_start,r,o),e.block_start+=r,It(e.strm)),o?St:_t)};var e=(e,t)=>{let n,r;for(;;){if(e.lookahead<ht){if(Mt(e),e.lookahead<ht&&t===je)return _t;if(0===e.lookahead)break}if(n=0,e.lookahead>=u&&(e.ins_h=Ot(e,e.ins_h,e.window[e.strstart+u-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ht&&(e.match_length=Lt(e,n)),e.match_length>=u)if(r=Pe(e,e.strstart-e.match_start,e.match_length-u),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=u){for(e.match_length--;e.strstart++,e.ins_h=Ot(e,e.ins_h,e.window[e.strstart+u-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ot(e,e.ins_h,e.window[e.strstart+1]);else r=Pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Nt(e,!1),0===e.strm.avail_out))return _t}return e.insert=e.strstart<u-1?e.strstart:u-1,t===qe?(Nt(e,!0),0===e.strm.avail_out?St:xt):e.sym_next&&(Nt(e,!1),0===e.strm.avail_out)?_t:kt},Ft=(e,t)=>{let n,r;for(var a;;){if(e.lookahead<ht){if(Mt(e),e.lookahead<ht&&t===je)return _t;if(0===e.lookahead)break}if(n=0,e.lookahead>=u&&(e.ins_h=Ot(e,e.ins_h,e.window[e.strstart+u-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=u-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ht&&(e.match_length=Lt(e,n),e.match_length<=5)&&(e.strategy===$e||e.match_length===u&&4096<e.strstart-e.match_start)&&(e.match_length=u-1),e.prev_length>=u&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-u,r=Pe(e,e.strstart-1-e.prev_match,e.prev_length-u),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=Ot(e,e.ins_h,e.window[e.strstart+u-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=u-1,e.strstart++,r&&(Nt(e,!1),0===e.strm.avail_out))return _t}else if(e.match_available){if((r=Pe(e,0,e.window[e.strstart-1]))&&Nt(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return _t}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Pe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<u-1?e.strstart:u-1,t===qe?(Nt(e,!0),0===e.strm.avail_out?St:xt):e.sym_next&&(Nt(e,!1),0===e.strm.avail_out)?_t:kt};function Ut(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const Ht=[new Ut(0,0,0,0,zt),new Ut(4,4,8,4,e),new Ut(4,5,16,8,e),new Ut(4,6,32,32,e),new Ut(4,4,16,16,Ft),new Ut(8,16,32,32,Ft),new Ut(8,16,128,128,Ft),new Ut(8,32,128,256,Ft),new Ut(32,128,258,1024,Ft),new Ut(32,258,258,4096,Ft)];function Pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=at,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*ut),this.dyn_dtree=new Uint16Array(2*(2*st+1)),this.bl_tree=new Uint16Array(2*(2*lt+1)),Rt(this.dyn_ltree),Rt(this.dyn_dtree),Rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ct+1),this.heap=new Uint16Array(2*ot+1),Rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ot+1),Rt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bt=e=>{var t;return!e||!(t=e.state)||t.strm!==e||t.status!==ft&&t.status!==pt&&t.status!==mt&&t.status!==vt&&t.status!==bt&&t.status!==gt&&t.status!==yt&&t.status!==wt?1:0},jt=e=>{if(Bt(e))return Et(e,Ke);e.total_in=e.total_out=0,e.data_type=rt;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?pt:t.wrap?ft:yt,e.adler=2===t.wrap?0:1,t.last_flush=-2,Fe(t),l},Zt=e=>{var t=jt(e);return t===l&&((e=e.state).window_size=2*e.w_size,Rt(e.head),e.max_lazy_match=Ht[e.level].max_lazy,e.good_match=Ht[e.level].good_length,e.nice_match=Ht[e.level].nice_length,e.max_chain_length=Ht[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=u-1,e.match_available=0,e.ins_h=0),t};const Wt=(e,t,n,r,a,i)=>{if(!e)return Ke;let o=1;if(t===Ye&&(t=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),a<1||a>it||n!==at||r<8||15<r||t<0||9<t||i<0||i>tt||8===r&&1!==o)return Et(e,Ke);8===r&&(r=9);var s=new Pt;return(e.state=s).strm=e,s.status=ft,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+u-1)/u),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=i,s.method=n,Zt(e)};var qt={deflateInit:(e,t)=>Wt(e,t,at,15,8,nt),deflateInit2:Wt,deflateReset:Zt,deflateResetKeep:jt,deflateSetHeader:(e,t)=>Bt(e)||2!==e.state.wrap?Ke:(e.state.gzhead=t,l),deflate:(n,e)=>{if(Bt(n)||e>Ge||e<0)return n?Et(n,Ke):Ke;var r=n.state;if(!n.output||0!==n.avail_in&&!n.input||r.status===wt&&e!==qe)return Et(n,0===n.avail_out?Je:Ke);var a=r.last_flush;if(r.last_flush=e,0!==r.pending){if(It(n),0===n.avail_out)return r.last_flush=-1,l}else if(0===n.avail_in&&Ct(e)<=Ct(a)&&e!==qe)return Et(n,Je);if(r.status===wt&&0!==n.avail_in)return Et(n,Je);if(r.status===ft&&0===r.wrap&&(r.status=yt),r.status===ft){let e=at+(r.w_bits-8<<4)<<8,t=-1;if(t=r.strategy>=Qe||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=t<<6,0!==r.strstart&&(e|=32),e+=31-e%31,At(r,e),0!==r.strstart&&(At(r,n.adler>>>16),At(r,65535&n.adler)),n.adler=1,r.status=yt,It(n),0!==r.pending)return r.last_flush=-1,l}if(r.status===pt)if(n.adler=0,o(r,31),o(r,139),o(r,8),r.gzhead)o(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),o(r,255&r.gzhead.time),o(r,r.gzhead.time>>8&255),o(r,r.gzhead.time>>16&255),o(r,r.gzhead.time>>24&255),o(r,9===r.level?2:r.strategy>=Qe||r.level<2?4:0),o(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(o(r,255&r.gzhead.extra.length),o(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(n.adler=K(n.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=mt;else if(o(r,0),o(r,0),o(r,0),o(r,0),o(r,0),o(r,9===r.level?2:r.strategy>=Qe||r.level<2?4:0),o(r,3),r.status=yt,It(n),0!==r.pending)return r.last_flush=-1,l;if(r.status===mt){if(r.gzhead.extra){let e=r.pending,t=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+t>r.pending_buf_size;){var i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(n.adler=K(n.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,It(n),0!==r.pending)return r.last_flush=-1,l;e=0,t-=i}a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+t),r.pending),r.pending+=t,r.gzhead.hcrc&&r.pending>e&&(n.adler=K(n.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=vt}if(r.status===vt){if(r.gzhead.name){let e=r.pending,t;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>e&&(n.adler=K(n.adler,r.pending_buf,r.pending-e,e)),It(n),0!==r.pending)return r.last_flush=-1,l;e=0}}while(t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,o(r,t),0!==t);r.gzhead.hcrc&&r.pending>e&&(n.adler=K(n.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=bt}if(r.status===bt){if(r.gzhead.comment){let e=r.pending,t;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>e&&(n.adler=K(n.adler,r.pending_buf,r.pending-e,e)),It(n),0!==r.pending)return r.last_flush=-1,l;e=0}}while(t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,o(r,t),0!==t);r.gzhead.hcrc&&r.pending>e&&(n.adler=K(n.adler,r.pending_buf,r.pending-e,e))}r.status=gt}if(r.status===gt){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(It(n),0!==r.pending))return r.last_flush=-1,l;o(r,255&n.adler),o(r,n.adler>>8&255),n.adler=0}if(r.status=yt,It(n),0!==r.pending)return r.last_flush=-1,l}if(0!==n.avail_in||0!==r.lookahead||e!==je&&r.status!==wt){a=0===r.level?zt(r,e):r.strategy===Qe?((e,t)=>{for(var n;;){if(0===e.lookahead&&(Mt(e),0===e.lookahead)){if(t===je)return _t;break}if(e.match_length=0,n=Pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Nt(e,!1),0===e.strm.avail_out))return _t}return e.insert=0,t===qe?(Nt(e,!0),0===e.strm.avail_out?St:xt):e.sym_next&&(Nt(e,!1),0===e.strm.avail_out)?_t:kt})(r,e):r.strategy===et?((e,t)=>{let n;var r;let a,i;for(var o=e.window;;){if(e.lookahead<=dt){if(Mt(e),e.lookahead<=dt&&t===je)return _t;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=u&&0<e.strstart&&(r=o[a=e.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){for(i=e.strstart+dt;r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i;);e.match_length=dt-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=u?(n=Pe(e,1,e.match_length-u),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Nt(e,!1),0===e.strm.avail_out))return _t}return e.insert=0,t===qe?(Nt(e,!0),0===e.strm.avail_out?St:xt):e.sym_next&&(Nt(e,!1),0===e.strm.avail_out)?_t:kt})(r,e):Ht[r.level].func(r,e);if(a!==St&&a!==xt||(r.status=wt),a===_t||a===St)return 0===n.avail_out&&(r.last_flush=-1),l;if(a===kt&&(e===Ze?Be(r):e!==Ge&&(Ue(r,0,0,!1),e===We)&&(Rt(r.head),0===r.lookahead)&&(r.strstart=0,r.block_start=0,r.insert=0),It(n),0===n.avail_out))return r.last_flush=-1,l}return e!==qe||!(r.wrap<=0)&&(2===r.wrap?(o(r,255&n.adler),o(r,n.adler>>8&255),o(r,n.adler>>16&255),o(r,n.adler>>24&255),o(r,255&n.total_in),o(r,n.total_in>>8&255),o(r,n.total_in>>16&255),o(r,n.total_in>>24&255)):(At(r,n.adler>>>16),At(r,65535&n.adler)),It(n),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending)?l:Ve},deflateEnd:e=>{var t;return Bt(e)?Ke:(t=e.state.status,e.state=null,t===yt?Et(e,Xe):l)},deflateSetDictionary:(e,t)=>{let n=t.length;if(Bt(e))return Ke;var r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==ft||r.lookahead)return Ke;1===a&&(e.adler=De(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(0===a&&(Rt(r.head),r.strstart=0,r.block_start=0,r.insert=0),(i=new Uint8Array(r.w_size)).set(t.subarray(n-r.w_size,n),0),t=i,n=r.w_size);var i=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Mt(r);r.lookahead>=u;){let e=r.strstart,t=r.lookahead-(u-1);for(;r.ins_h=Ot(r,r.ins_h,r.window[e+u-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++,--t;);r.strstart=e,r.lookahead=u-1,Mt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=u-1,r.match_available=0,e.next_in=o,e.input=s,e.avail_in=i,r.wrap=a,l},deflateInfo:"pako deflate (from Nodeca project)"};var Gt=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1);r.length;){var a=r.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const i in a)t=a,n=i,Object.prototype.hasOwnProperty.call(t,n)&&(e[i]=a[i])}}return e},Vt=r=>{let n=0;for(let e=0,t=r.length;e<t;e++)n+=r[e].length;var a=new Uint8Array(n);for(let e=0,t=0,n=r.length;e<n;e++){var i=r[e];a.set(i,t),t+=i.length}return a};let Kt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Kt=!1}const Xt=new Uint8Array(256);for(let e=0;e<256;e++)Xt[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;Xt[254]=Xt[254]=1;var Jt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,o=e.length,s=0;for(a=0;a<o;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,a=0;i<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:(n<2048?t[i++]=192|n>>>6:(n<65536?t[i++]=224|n>>>12:(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63),t[i++]=128|n>>>6&63),t[i++]=128|63&n);return t},Yt=(n,e)=>{var r=e||n.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(n.subarray(0,e));let a,i;var o=new Array(2*r);for(i=0,a=0;a<r;){let t=n[a++];if(t<128)o[i++]=t;else{let e=Xt[t];if(4<e)o[i++]=65533,a+=e-1;else{for(t&=2===e?31:3===e?15:7;1<e&&a<r;)t=t<<6|63&n[a++],e--;1<e?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}}{var s=o,l=i;if(l<65534&&s.subarray&&Kt)return String.fromCharCode.apply(null,s.length===l?s:s.subarray(0,l));let t="";for(let e=0;e<l;e++)t+=String.fromCharCode(s[e]);return t}},$t=(e,t)=>{let n=(t=(t=t||e.length)>e.length?e.length:t)-1;for(;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+Xt[e[n]]>t?n:t};var Qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const en=Object.prototype.toString,{Z_NO_FLUSH:tn,Z_SYNC_FLUSH:nn,Z_FULL_FLUSH:rn,Z_FINISH:an,Z_OK:on,Z_STREAM_END:sn,Z_DEFAULT_COMPRESSION:ln,Z_DEFAULT_STRATEGY:un,Z_DEFLATED:cn}=ze;function dn(t){this.options=Gt({level:ln,method:cn,chunkSize:16384,windowBits:15,memLevel:8,strategy:un},t||{});var t=this.options,n=(t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0,qt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy));if(n!==on)throw new Error(Me[n]);if(t.header&&qt.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Jt(t.dictionary):"[object ArrayBuffer]"===en.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=qt.deflateSetDictionary(this.strm,e))!==on)throw new Error(Me[n]);this._dict_set=!0}}function hn(e,t){t=new dn(t);if(t.push(e,!0),t.err)throw t.msg||Me[t.err];return t.result}dn.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?an:tn,"string"==typeof e?n.input=Jt(e):"[object ArrayBuffer]"===en.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===nn||i===rn)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(qt.deflate(n,i)===sn)return 0<n.next_out&&this.onData(n.output.subarray(0,n.next_out)),a=qt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===on;if(0===n.avail_out)this.onData(n.output);else if(0<i&&0<n.next_out)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}return!0},dn.prototype.onData=function(e){this.chunks.push(e)},dn.prototype.onEnd=function(e){e===on&&(this.result=Vt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};e={Deflate:dn,deflate:hn,deflateRaw:function(e,t){return(t=t||{}).raw=!0,hn(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,hn(e,t)},constants:ze};const fn=16209,pn=16191;const mn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var yn=(e,t,n,r,a,i,o,s)=>{var l,u=s.bits;let c=0,d=0,h=0,f=0,p=0,m=0,v=0,b=0,g=0,y=0,w,_,k,S,x=null,E;var C=new Uint16Array(16),R=new Uint16Array(16);let T=null,O,I,N;for(c=0;c<=15;c++)C[c]=0;for(d=0;d<r;d++)C[t[n+d]]++;for(p=u,f=15;1<=f&&0===C[f];f--);if(p>f&&(p=f),0===f)a[i++]=20971520,a[i++]=20971520,s.bits=1;else{for(h=1;h<f&&0===C[h];h++);for(p<h&&(p=h),b=1,c=1;c<=15;c++)if((b=(b<<=1)-C[c])<0)return-1;if(0<b&&(0===e||1!==f))return-1;for(R[1]=0,c=1;c<15;c++)R[c+1]=R[c]+C[c];for(d=0;d<r;d++)0!==t[n+d]&&(o[R[t[n+d]]++]=d);if(E=0===e?(x=T=o,20):1===e?(x=mn,T=vn,257):(x=bn,T=gn,0),y=0,d=0,c=h,S=i,m=p,v=0,k=-1,l=(g=1<<p)-1,1===e&&852<g||2===e&&592<g)return 1;for(;;){for(O=c-v,N=o[d]+1<E?(I=0,o[d]):o[d]>=E?(I=T[o[d]-E],x[o[d]-E]):(I=96,0),w=1<<c-v,_=1<<m,h=_;_-=w,a[S+(y>>v)+_]=O<<24|I<<16|N|0,0!==_;);for(w=1<<c-1;y&w;)w>>=1;if(y=0!==w?(y&=w-1)+w:0,d++,0==--C[c]){if(c===f)break;c=t[n+o[d]]}if(c>p&&(y&l)!==k){for(0===v&&(v=p),S+=h,m=c-v,b=1<<m;m+v<f&&!((b-=C[m+v])<=0);)m++,b<<=1;if(g+=1<<m,1===e&&852<g||2===e&&592<g)return 1;a[k=y&l]=p<<24|m<<16|S-i|0}}0!==y&&(a[S+y]=c-v<<24|64<<16|0),s.bits=p}return 0};const wn=1,_n=2,{Z_FINISH:kn,Z_BLOCK:Sn,Z_TREES:xn,Z_OK:En,Z_STREAM_END:Cn,Z_NEED_DICT:Rn,Z_STREAM_ERROR:Tn,Z_DATA_ERROR:On,Z_MEM_ERROR:In,Z_BUF_ERROR:Nn,Z_DEFLATED:An}=ze,Dn=16180,Ln=16190,Mn=16191,zn=16199,Fn=16200,X=16209,Un=16211,Hn=852,Pn=592;const Bn=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function jn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Zn=e=>{var t;return!e||!(t=e.state)||t.strm!==e||t.mode<Dn||t.mode>Un?1:0},Wn=e=>{var t;return Zn(e)?Tn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Dn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Hn),t.distcode=t.distdyn=new Int32Array(Pn),t.sane=1,t.back=-1,En)},qn=e=>{var t;return Zn(e)?Tn:((t=e.state).wsize=0,t.whave=0,t.wnext=0,Wn(e))},Gn=(e,t)=>{let n;var r;return Zn(e)||(r=e.state,t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?Tn:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,qn(e))},Vn=(e,t)=>{var n;return e?(n=new jn,(e.state=n).strm=e,n.window=null,n.mode=Dn,(n=Gn(e,t))!==En&&(e.state=null),n):Tn};let Kn=!0,Xn,Jn;const Yn=(e,t,n,r)=>{let a;e=e.state;return null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize)),r>=e.wsize?(e.window.set(t.subarray(n-e.wsize,n),0),e.wnext=0,e.whave=e.wsize):((a=e.wsize-e.wnext)>r&&(a=r),e.window.set(t.subarray(n-r,n-r+a),e.wnext),(r-=a)?(e.window.set(t.subarray(n-r,n),0),e.wnext=r,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a))),0};var $n={inflateReset:qn,inflateReset2:Gn,inflateResetKeep:Wn,inflateInit:e=>Vn(e,15),inflateInit2:Vn,inflate:(u,e)=>{var t;let n,r,a,i,o,s,l,c,d,h,f,z,F,p=0,m,v,b,g,y,w,_,k;var S=new Uint8Array(4);let x,E;var C,U,R,H,P,B,T,O,j,Z,W,q,I,N,A,G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Zn(u)||!u.output||!u.input&&0!==u.avail_in)return Tn;(t=u.state).mode===Mn&&(t.mode=16192),i=u.next_out,r=u.output,s=u.avail_out,a=u.next_in,n=u.input,o=u.avail_in,l=t.hold,c=t.bits,d=o,h=s,k=En;e:for(;;)switch(t.mode){case Dn:if(0===t.wrap)t.mode=16192;else{for(;c<16;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}2&t.wrap&&35615===l?(0===t.wbits&&(t.wbits=15),S[t.check=0]=255&l,S[1]=l>>>8&255,t.check=K(t.check,S,2,0),l=0,c=0,t.mode=16181):(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&l)<<8)+(l>>8))%31?(u.msg="incorrect header check",t.mode=X):(15&l)!==An?(u.msg="unknown compression method",t.mode=X):(l>>>=4,c-=4,_=8+(15&l),0===t.wbits&&(t.wbits=_),15<_||_>t.wbits?(u.msg="invalid window size",t.mode=X):(t.dmax=1<<t.wbits,t.flags=0,u.adler=t.check=1,t.mode=512&l?16189:Mn,l=0,c=0)))}break;case 16181:for(;c<16;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(t.flags=l,(255&t.flags)!==An){u.msg="unknown compression method",t.mode=X;break}if(57344&t.flags){u.msg="unknown header flags set",t.mode=X;break}t.head&&(t.head.text=l>>8&1),512&t.flags&&4&t.wrap&&(S[0]=255&l,S[1]=l>>>8&255,t.check=K(t.check,S,2,0)),l=0,c=0,t.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}t.head&&(t.head.time=l),512&t.flags&&4&t.wrap&&(S[0]=255&l,S[1]=l>>>8&255,S[2]=l>>>16&255,S[3]=l>>>24&255,t.check=K(t.check,S,4,0)),l=0,c=0,t.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}t.head&&(t.head.xflags=255&l,t.head.os=l>>8),512&t.flags&&4&t.wrap&&(S[0]=255&l,S[1]=l>>>8&255,t.check=K(t.check,S,2,0)),l=0,c=0,t.mode=16184;case 16184:if(1024&t.flags){for(;c<16;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),512&t.flags&&4&t.wrap&&(S[0]=255&l,S[1]=l>>>8&255,t.check=K(t.check,S,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&((f=(f=t.length)>o?o:f)&&(t.head&&(_=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+f),_)),512&t.flags&&4&t.wrap&&(t.check=K(t.check,n,f,a)),o-=f,a+=f,t.length-=f),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===o)break e;for(f=0;_=n[a+f++],t.head&&_&&t.length<65536&&(t.head.name+=String.fromCharCode(_)),_&&f<o;);if(512&t.flags&&4&t.wrap&&(t.check=K(t.check,n,f,a)),o-=f,a+=f,_)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===o)break e;for(f=0;_=n[a+f++],t.head&&_&&t.length<65536&&(t.head.comment+=String.fromCharCode(_)),_&&f<o;);if(512&t.flags&&4&t.wrap&&(t.check=K(t.check,n,f,a)),o-=f,a+=f,_)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;c<16;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(4&t.wrap&&l!==(65535&t.check)){u.msg="header crc mismatch",t.mode=X;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),u.adler=t.check=0,t.mode=Mn;break;case 16189:for(;c<32;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}u.adler=t.check=Bn(l),l=0,c=0,t.mode=Ln;case Ln:if(0===t.havedict)return u.next_out=i,u.avail_out=s,u.next_in=a,u.avail_in=o,t.hold=l,t.bits=c,Rn;u.adler=t.check=1,t.mode=Mn;case Mn:if(e===Sn||e===xn)break e;case 16192:if(t.last)l>>>=7&c,c-=7&c,t.mode=16206;else{for(;c<3;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}switch(t.last=1&l,l>>>=1,--c,3&l){case 0:t.mode=16193;break;case 1:var D=t;if(Kn){Xn=new Int32Array(512),Jn=new Int32Array(32);let e=0;for(;e<144;)D.lens[e++]=8;for(;e<256;)D.lens[e++]=9;for(;e<280;)D.lens[e++]=7;for(;e<288;)D.lens[e++]=8;for(yn(wn,D.lens,0,288,Xn,0,D.work,{bits:9}),e=0;e<32;)D.lens[e++]=5;yn(_n,D.lens,0,32,Jn,0,D.work,{bits:5}),Kn=!1}if(D.lencode=Xn,D.lenbits=9,D.distcode=Jn,D.distbits=5,t.mode=zn,e!==xn)break;l>>>=2,c-=2;break e;case 2:t.mode=16196;break;case 3:u.msg="invalid block type",t.mode=X}l>>>=2,c-=2}break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){u.msg="invalid stored block lengths",t.mode=X;break}if(t.length=65535&l,l=0,c=0,t.mode=16194,e===xn)break e;case 16194:t.mode=16195;case 16195:if(f=t.length){if(0===(f=(f=f>o?o:f)>s?s:f))break e;r.set(n.subarray(a,a+f),i),o-=f,a+=f,s-=f,i+=f,t.length-=f}else t.mode=Mn;break;case 16196:for(;c<14;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(t.nlen=257+(31&l),l>>>=5,c-=5,t.ndist=1+(31&l),l>>>=5,c-=5,t.ncode=4+(15&l),l>>>=4,c-=4,286<t.nlen||30<t.ndist){u.msg="too many length or distance symbols",t.mode=X;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;c<3;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}t.lens[G[t.have++]]=7&l,l>>>=3,c-=3}for(;t.have<19;)t.lens[G[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,x={bits:t.lenbits},k=yn(0,t.lens,0,19,t.lencode,0,t.work,x),t.lenbits=x.bits,k){u.msg="invalid code lengths set",t.mode=X;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;p=t.lencode[l&(1<<t.lenbits)-1],m=p>>>24,v=p>>>16&255,b=65535&p,!(m<=c);){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(b<16)l>>>=m,c-=m,t.lens[t.have++]=b;else{if(16===b){for(E=m+2;c<E;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(l>>>=m,c-=m,0===t.have){u.msg="invalid bit length repeat",t.mode=X;break}_=t.lens[t.have-1],f=3+(3&l),l>>>=2,c-=2}else if(17===b){for(E=m+3;c<E;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}l>>>=m,c-=m,_=0,f=3+(7&l),l>>>=3,c-=3}else{for(E=m+7;c<E;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}l>>>=m,c-=m,_=0,f=11+(127&l),l>>>=7,c-=7}if(t.have+f>t.nlen+t.ndist){u.msg="invalid bit length repeat",t.mode=X;break}for(;f--;)t.lens[t.have++]=_}}if(t.mode===X)break;if(0===t.lens[256]){u.msg="invalid code -- missing end-of-block",t.mode=X;break}if(t.lenbits=9,x={bits:t.lenbits},k=yn(wn,t.lens,0,t.nlen,t.lencode,0,t.work,x),t.lenbits=x.bits,k){u.msg="invalid literal/lengths set",t.mode=X;break}if(t.distbits=6,t.distcode=t.distdyn,x={bits:t.distbits},k=yn(_n,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,x),t.distbits=x.bits,k){u.msg="invalid distances set",t.mode=X;break}if(t.mode=zn,e===xn)break e;case zn:t.mode=Fn;case Fn:if(6<=o&&258<=s){u.next_out=i,u.avail_out=s,u.next_in=a,u.avail_in=o,t.hold=l,t.bits=c;{C=void 0;U=void 0;R=void 0;H=void 0;P=void 0;B=void 0;T=void 0;O=void 0;j=void 0;Z=void 0;W=void 0;q=void 0;I=void 0;N=void 0;A=void 0;M=void 0;var L=u;var V=h;let e;let t,n,r,a,i,o,s,l;var M=L.state;e=L.next_in,N=L.input,C=e+(L.avail_in-5),t=L.next_out,A=L.output,U=t-(V-L.avail_out),R=t+(L.avail_out-257),H=M.dmax,P=M.wsize,B=M.whave,T=M.wnext,O=M.window,n=M.hold,r=M.bits,j=M.lencode,Z=M.distcode,W=(1<<M.lenbits)-1,q=(1<<M.distbits)-1;t:do{for(r<15&&(n+=N[e++]<<r,r+=8,n+=N[e++]<<r,r+=8),a=j[n&W];;){if(i=a>>>24,n>>>=i,r-=i,0===(i=a>>>16&255))A[t++]=65535&a;else{if(!(16&i)){if(0==(64&i)){a=j[(65535&a)+(n&(1<<i)-1)];continue}if(32&i){M.mode=pn;break t}L.msg="invalid literal/length code",M.mode=fn;break t}for(o=65535&a,(i&=15)&&(r<i&&(n+=N[e++]<<r,r+=8),o+=n&(1<<i)-1,n>>>=i,r-=i),r<15&&(n+=N[e++]<<r,r+=8,n+=N[e++]<<r,r+=8),a=Z[n&q];;){if(i=a>>>24,n>>>=i,r-=i,!(16&(i=a>>>16&255))){if(0==(64&i)){a=Z[(65535&a)+(n&(1<<i)-1)];continue}L.msg="invalid distance code",M.mode=fn;break t}if(I=65535&a,i&=15,r<i&&(n+=N[e++]<<r,(r+=8)<i)&&(n+=N[e++]<<r,r+=8),H<(I+=n&(1<<i)-1)){L.msg="invalid distance too far back",M.mode=fn;break t}if(n>>>=i,r-=i,I>(i=t-U)){if((i=I-i)>B&&M.sane){L.msg="invalid distance too far back",M.mode=fn;break t}if(s=0,l=O,0===T){if(s+=P-i,i<o){for(o-=i;A[t++]=O[s++],--i;);s=t-I,l=A}}else if(T<i){if(s+=P+T-i,(i-=T)<o){for(o-=i;A[t++]=O[s++],--i;);if(s=0,T<o){for(i=T,o-=i;A[t++]=O[s++],--i;);s=t-I,l=A}}}else if(s+=T-i,i<o){for(o-=i;A[t++]=O[s++],--i;);s=t-I,l=A}for(;2<o;)A[t++]=l[s++],A[t++]=l[s++],A[t++]=l[s++],o-=3;o&&(A[t++]=l[s++],1<o)&&(A[t++]=l[s++])}else{for(s=t-I;A[t++]=A[s++],A[t++]=A[s++],A[t++]=A[s++],2<(o-=3););o&&(A[t++]=A[s++],1<o)&&(A[t++]=A[s++])}break}}break}}while(e<C&&t<R);o=r>>3,e-=o,r-=o<<3,n&=(1<<r)-1,L.next_in=e,L.next_out=t,L.avail_in=e<C?C-e+5:5-(e-C),L.avail_out=t<R?R-t+257:257-(t-R),M.hold=n,M.bits=r}i=u.next_out,r=u.output,s=u.avail_out,a=u.next_in,n=u.input,o=u.avail_in,l=t.hold,c=t.bits,t.mode===Mn&&(t.back=-1);break}for(t.back=0;p=t.lencode[l&(1<<t.lenbits)-1],m=p>>>24,v=p>>>16&255,b=65535&p,!(m<=c);){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(v&&0==(240&v)){for(g=m,y=v,w=b;p=t.lencode[w+((l&(1<<g+y)-1)>>g)],m=p>>>24,v=p>>>16&255,b=65535&p,!(g+m<=c);){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}l>>>=g,c-=g,t.back+=g}if(l>>>=m,c-=m,t.back+=m,t.length=b,0===v){t.mode=16205;break}if(32&v){t.back=-1,t.mode=Mn;break}if(64&v){u.msg="invalid literal/length code",t.mode=X;break}t.extra=15&v,t.mode=16201;case 16201:if(t.extra){for(E=t.extra;c<E;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;p=t.distcode[l&(1<<t.distbits)-1],m=p>>>24,v=p>>>16&255,b=65535&p,!(m<=c);){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(0==(240&v)){for(g=m,y=v,w=b;p=t.distcode[w+((l&(1<<g+y)-1)>>g)],m=p>>>24,v=p>>>16&255,b=65535&p,!(g+m<=c);){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}l>>>=g,c-=g,t.back+=g}if(l>>>=m,c-=m,t.back+=m,64&v){u.msg="invalid distance code",t.mode=X;break}t.offset=b,t.extra=15&v,t.mode=16203;case 16203:if(t.extra){for(E=t.extra;c<E;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){u.msg="invalid distance too far back",t.mode=X;break}t.mode=16204;case 16204:if(0===s)break e;if(f=h-s,t.offset>f){if((f=t.offset-f)>t.whave&&t.sane){u.msg="invalid distance too far back",t.mode=X;break}z=f>t.wnext?(f-=t.wnext,t.wsize-f):t.wnext-f,f>t.length&&(f=t.length),F=t.window}else F=r,z=i-t.offset,f=t.length;for(f>s&&(f=s),s-=f,t.length-=f;r[i++]=F[z++],--f;);0===t.length&&(t.mode=Fn);break;case 16205:if(0===s)break e;r[i++]=t.length,s--,t.mode=Fn;break;case 16206:if(t.wrap){for(;c<32;){if(0===o)break e;o--,l|=n[a++]<<c,c+=8}if(h-=s,u.total_out+=h,t.total+=h,4&t.wrap&&h&&(u.adler=t.check=(t.flags?K:De)(t.check,r,h,i-h)),h=s,4&t.wrap&&(t.flags?l:Bn(l))!==t.check){u.msg="incorrect data check",t.mode=X;break}l=0,c=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;c<32;){if(0===o)break e;o--,l+=n[a++]<<c,c+=8}if(4&t.wrap&&l!==(4294967295&t.total)){u.msg="incorrect length check",t.mode=X;break}l=0,c=0}t.mode=16208;case 16208:k=Cn;break e;case X:k=On;break e;case 16210:return In;default:Un;return Tn}return u.next_out=i,u.avail_out=s,u.next_in=a,u.avail_in=o,t.hold=l,t.bits=c,(t.wsize||h!==u.avail_out&&t.mode<X&&(t.mode<16206||e!==kn))&&Yn(u,u.output,u.next_out,h-u.avail_out),d-=u.avail_in,h-=u.avail_out,u.total_in+=d,u.total_out+=h,t.total+=h,4&t.wrap&&h&&(u.adler=t.check=(t.flags?K:De)(t.check,r,h,u.next_out-h)),u.data_type=t.bits+(t.last?64:0)+(t.mode===Mn?128:0)+(t.mode===zn||16194===t.mode?256:0),k=(0==d&&0===h||e===kn)&&k===En?Nn:k},inflateEnd:e=>{var t;return Zn(e)?Tn:((t=e.state).window&&(t.window=null),e.state=null,En)},inflateGetHeader:(e,t)=>{return Zn(e)||0==(2&(e=e.state).wrap)?Tn:((e.head=t).done=!1,En)},inflateSetDictionary:(e,t)=>{var n,r=t.length;return Zn(e)||0!==(n=e.state).wrap&&n.mode!==Ln?Tn:n.mode===Ln&&De(1,t,r,0)!==n.check?On:Yn(e,t,r,r)?(n.mode=16210,In):(n.havedict=1,En)},inflateInfo:"pako inflate (from Nodeca project)"};var Qn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const er=Object.prototype.toString,{Z_NO_FLUSH:tr,Z_FINISH:nr,Z_OK:rr,Z_STREAM_END:ar,Z_NEED_DICT:ir,Z_STREAM_ERROR:or,Z_DATA_ERROR:sr,Z_MEM_ERROR:lr}=ze;function ur(e){this.options=Gt({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options,e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0,$n.inflateInit2(this.strm,t.windowBits));if(e!==rr)throw new Error(Me[e]);if(this.header=new Qn,$n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Jt(t.dictionary):"[object ArrayBuffer]"===er.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(e=$n.inflateSetDictionary(this.strm,t.dictionary))!==rr)throw new Error(Me[e])}function cr(e,t){t=new ur(t);if(t.push(e),t.err)throw t.msg||Me[t.err];return t.result}ur.prototype.push=function(e,t){var n,r,a,i=this.strm,o=this.options.chunkSize,s=this.options.dictionary;let l,u,c;if(this.ended)return!1;for(u=t===~~t?t:!0===t?nr:tr,"[object ArrayBuffer]"===er.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(l=$n.inflate(i,u))===ir&&s&&((l=$n.inflateSetDictionary(i,s))===rr?l=$n.inflate(i,u):l===sr&&(l=ir));0<i.avail_in&&l===ar&&0<i.state.wrap&&0!==e[i.next_in];)$n.inflateReset(i),l=$n.inflate(i,u);switch(l){case or:case sr:case ir:case lr:return this.onEnd(l),!(this.ended=!0)}if(c=i.avail_out,!i.next_out||0!==i.avail_out&&l!==ar||("string"===this.options.to?(n=$t(i.output,i.next_out),r=i.next_out-n,a=Yt(i.output,n),i.next_out=r,i.avail_out=o-r,r&&i.output.set(i.output.subarray(n,n+r),0),this.onData(a)):this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out))),l!==rr||0!==c){if(l===ar)return l=$n.inflateEnd(this.strm),this.onEnd(l),this.ended=!0;if(0===i.avail_in)break}}return!0},ur.prototype.onData=function(e){this.chunks.push(e)},ur.prototype.onEnd=function(e){e===rr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Vt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var{Deflate:Ft,deflate:e,deflateRaw:t,gzip:n}=e,{Inflate:r,inflate:a,inflateRaw:dr,ungzip:hr}={Inflate:ur,inflate:cr,inflateRaw:function(e,t){return(t=t||{}).raw=!0,cr(e,t)},ungzip:cr},fr={Deflate:Ft,deflate:e,deflateRaw:t,gzip:n,Inflate:r,inflate:a,inflateRaw:dr,ungzip:hr,constants:ze},Ft="function"==typeof atob,e="function"==typeof btoa,t="function"==typeof Buffer;const pr="function"==typeof TextDecoder?new TextDecoder:void 0,mr="function"==typeof TextEncoder?new TextEncoder:void 0;const vr=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),br=(e=>{let n={};return e.forEach((e,t)=>n[e]=t),n})(vr),gr=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,s=String.fromCharCode.bind(String),yr="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),wr=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),_r=e=>e.replace(/[^A-Za-z0-9\+\/]/g,"");n=t=>{let n,r,a,i,o="";var e=t.length%3;for(let e=0;e<t.length;){if(255<(r=t.charCodeAt(e++))||255<(a=t.charCodeAt(e++))||255<(i=t.charCodeAt(e++)))throw new TypeError("invalid character found");n=r<<16|a<<8|i,o+=vr[n>>18&63]+vr[n>>12&63]+vr[n>>6&63]+vr[63&n]}return e?o.slice(0,e-3)+"===".substring(e):o};const kr=e?e=>btoa(e):t?e=>Buffer.from(e,"binary").toString("base64"):n,Sr=t?e=>Buffer.from(e).toString("base64"):n=>{var r=[];for(let e=0,t=n.length;e<t;e+=4096)r.push(s.apply(null,n.subarray(e,e+4096)));return kr(r.join(""))},xr=(e,t=!1)=>t?wr(Sr(e)):Sr(e),Er=e=>{var t;return e.length<2?(t=e.charCodeAt(0))<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t))},Cr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Rr=e=>e.replace(Cr,Er),Tr=t?e=>Buffer.from(e,"utf8").toString("base64"):mr?e=>Sr(mr.encode(e)):e=>kr(Rr(e)),Or=(e,t=!1)=>t?wr(Tr(e)):Tr(e);r=e=>Or(e,!0);const Ir=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Nr=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return s(55296+(t>>>10))+s(56320+(1023&t));case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Ar=e=>e.replace(Ir,Nr);a=t=>{if(t=t.replace(/\s+/g,""),!gr.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let n,r="",a,i;for(let e=0;e<t.length;)n=br[t.charAt(e++)]<<18|br[t.charAt(e++)]<<12|(a=br[t.charAt(e++)])<<6|(i=br[t.charAt(e++)]),r+=64===a?s(n>>16&255):64===i?s(n>>16&255,n>>8&255):s(n>>16&255,n>>8&255,255&n);return r};const Dr=Ft?e=>atob(_r(e)):t?e=>Buffer.from(e,"base64").toString("binary"):a,Lr=t?e=>yr(Buffer.from(e,"base64")):e=>yr(Dr(e).split("").map(e=>e.charCodeAt(0))),Mr=e=>Lr(Fr(e)),zr=t?e=>Buffer.from(e,"base64").toString("utf8"):pr?e=>pr.decode(Lr(e)):e=>Ar(Dr(e)),Fr=e=>_r(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),Ur=e=>zr(Fr(e));function Hr(){var e=(e,t)=>Object.defineProperty(String.prototype,e,Br(t));e("fromBase64",function(){return Ur(this)}),e("toBase64",function(e){return Or(this,e)}),e("toBase64URI",function(){return Or(this,!0)}),e("toBase64URL",function(){return Or(this,!0)}),e("toUint8Array",function(){return Mr(this)})}function Pr(){var e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,Br(t));e("toBase64",function(e){return xr(this,e)}),e("toBase64URI",function(){return xr(this,!0)}),e("toBase64URL",function(){return xr(this,!0)})}const Br=e=>({value:e,enumerable:!1,writable:!0,configurable:!0});const jr={version:"3.7.5",VERSION:"3.7.5",atob:Dr,atobPolyfill:a,btoa:kr,btoaPolyfill:n,fromBase64:Ur,toBase64:Or,encode:Or,encodeURI:r,encodeURL:r,utob:Rr,btou:Ar,decode:Ur,isValid:e=>{return"string"==typeof e&&(e=e.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e))},fromUint8Array:xr,toUint8Array:Mr,extendString:Hr,extendUint8Array:Pr,extendBuiltins:()=>{Hr(),Pr()}};var Zr,d,Wr,qr,Gr,Vr,Kr,Xr,i,c,h,f,p,Jr,Yr,$r,Qr,ea,dr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ta={};function na(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t}function ra(e,t){return typeof e===Xr&&-1!==$r(t).indexOf($r(e))}function aa(e,t){if(typeof e===Xr)return e=e.replace(/^\s\s*/,qr).replace(/\s\s*$/,qr),typeof t==Vr?e:e.substring(0,350)}function ia(e,t){for(var n,r,a,i,o,s=0;s<t.length&&!i;){for(var l=t[s],u=t[s+1],c=n=0;c<l.length&&!i;)if(i=l[c++].exec(e))for(r=0;r<u.length;r++)o=i[++n],typeof(a=u[r])===Kr&&0<a.length?2===a.length?typeof a[1]==Gr?this[a[0]]=a[1].call(this,o):this[a[0]]=a[1]:3===a.length?typeof a[1]!==Gr||a[1].exec&&a[1].test?this[a[0]]=o?o.replace(a[1],a[2]):d:this[a[0]]=o?a[1].call(this,o,a[2]):d:4===a.length&&(this[a[0]]=o?a[3].call(this,o.replace(a[1],a[2])):d):this[a]=o||d;s+=2}}function oa(e,t){for(var n in t)if(typeof t[n]===Kr&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(ra(t[n][r],e))return"?"===n?d:n}else if(ra(t[n],e))return"?"===n?d:n;return e}function sa(e,t){var n,r;return typeof e===Kr&&(t=e,e=d),this instanceof sa?(n=e||(typeof Zr!=Vr&&Zr.navigator&&Zr.navigator.userAgent?Zr.navigator.userAgent:qr),r=t?function(e,t){var n,r={};for(n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(Qr,t):Qr,this.getBrowser=function(){var e,t={};return t[c]=d,t[p]=d,ia.call(t,n,r.browser),t.major=typeof(e=t.version)===Xr?e.replace(/[^\d\.]/g,qr).split(".")[0]:d,t},this.getCPU=function(){var e={};return e[Jr]=d,ia.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e[f]=d,e[i]=d,e[h]=d,ia.call(e,n,r.device),e},this.getEngine=function(){var e={};return e[c]=d,e[p]=d,ia.call(e,n,r.engine),e},this.getOS=function(){var e={};return e[c]=d,e[p]=d,ia.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===Xr&&350<e.length?aa(e,350):e,this},this.setUA(n),this):new sa(e,t).getResult()}function la(t){return function(e){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}}hr={get exports(){return ta},set exports(e){ta=e}},ze=ta,Zr="object"==typeof window?window:dr,Gr="function",Vr="undefined",Kr="object",Xr="string",Qr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p="version",[c="name",e="Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,p],[/opios[\/ ]+([\w\.]+)/i],[p,[c,(Ft="Opera")+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[c,Ft]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[c,"UC"+(t="Browser")]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+t],p],[/\bfocus\/([\w\.]+)/i],[p,[c,(a="Firefox")+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[c,Ft+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[c,Ft+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[c,"MIUI "+t]],[/fxios\/([-\w\.]+)/i],[p,[c,a]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+t]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+t],p],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[c,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,Ft="Facebook"],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[c,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[c,e+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,e+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[c,"Android "+t]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[p,oa,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[c,a+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[c,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Jr="architecture","amd64"]],[/(ia32(?=;))/i],[[Jr,$r=function(e){return e.toLowerCase()}]],[/((?:i[346]|x)86)[;\)]/i],[[Jr,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Jr,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Jr,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Jr,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Jr,/ower/,qr="",$r]],[/(sun4\w)[;\)]/i],[[Jr,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Jr,$r]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[i="model",[f="vendor",t="Samsung"],[h="type",n="tablet"]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[i,[f,t],[h,r="mobile"]],[/\((ip(?:hone|od)[\w ]*);/i],[i,[f,dr="Apple"],[h,r]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[i,[f,dr],[h,n]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[i,[f,"Huawei"],[h,n]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[i,[f,"Huawei"],[h,r]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[i,/_/g," "],[f,Ta="Xiaomi"],[h,r]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[i,/_/g," "],[f,Ta],[h,n]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[i,[f,"OPPO"],[h,r]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[i,[f,"Vivo"],[h,r]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[i,[f,"Realme"],[h,r]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[i,[f,Da="Motorola"],[h,r]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[i,[f,Da],[h,n]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[i,[f,"LG"],[h,n]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[i,[f,"LG"],[h,r]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[i,[f,"Lenovo"],[h,n]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[i,/_/g," "],[f,"Nokia"],[h,r]],[/(pixel c)\b/i],[i,[f,Da="Google"],[h,n]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[i,[f,Da],[h,r]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[i,[f,da="Sony"],[h,r]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[i,"Xperia Tablet"],[f,da],[h,n]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[i,[f,"OnePlus"],[h,r]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[i,[f,S="Amazon"],[h,n]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[i,/(.+)/g,"Fire Phone $1"],[f,S],[h,r]],[/(playbook);[-\w\),; ]+(rim)/i],[i,f,[h,n]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[i,[f,x="BlackBerry"],[h,r]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[i,[f,"ASUS"],[h,n]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[i,[f,"ASUS"],[h,r]],[/(nexus 9)/i],[i,[f,"HTC"],[h,n]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[i,/_/g," "],[h,r]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[i,[f,"Acer"],[h,n]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[i,[f,"Meizu"],[h,r]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[i,[f,"Sharp"],[h,r]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,i,[h,r]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,i,[h,n]],[/(surface duo)/i],[i,[f,Yr="Microsoft"],[h,n]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[i,[f,"Fairphone"],[h,r]],[/(u304aa)/i],[i,[f,"AT&T"],[h,r]],[/\bsie-(\w*)/i],[i,[f,"Siemens"],[h,r]],[/\b(rct\w+) b/i],[i,[f,"RCA"],[h,n]],[/\b(venue[\d ]{2,7}) b/i],[i,[f,"Dell"],[h,n]],[/\b(q(?:mv|ta)\w+) b/i],[i,[f,"Verizon"],[h,n]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[i,[f,"Barnes & Noble"],[h,n]],[/\b(tm\d{3}\w+) b/i],[i,[f,"NuVision"],[h,n]],[/\b(k88) b/i],[i,[f,"ZTE"],[h,n]],[/\b(nx\d{3}j) b/i],[i,[f,"ZTE"],[h,r]],[/\b(gen\d{3}) b.+49h/i],[i,[f,"Swiss"],[h,r]],[/\b(zur\d{3}) b/i],[i,[f,"Swiss"],[h,n]],[/\b((zeki)?tb.*\b) b/i],[i,[f,"Zeki"],[h,n]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],i,[h,n]],[/\b(ns-?\w{0,9}) b/i],[i,[f,"Insignia"],[h,n]],[/\b((nxa|next)-?\w{0,9}) b/i],[i,[f,"NextBook"],[h,n]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],i,[h,r]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],i,[h,r]],[/\b(ph-1) /i],[i,[f,"Essential"],[h,r]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[i,[f,"Envizen"],[h,n]],[/\b(trio[-\w\. ]+) b/i],[i,[f,"MachSpeed"],[h,n]],[/\btu_(1491) b/i],[i,[f,"Rotor"],[h,n]],[/(shield[\w ]+) b/i],[i,[f,"Nvidia"],[h,n]],[/(sprint) (\w+)/i],[f,i,[h,r]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[f,Yr],[h,r]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[i,[f,za="Zebra"],[h,n]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[i,[f,za],[h,r]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,i,[h,di="console"]],[/droid.+; (shield) bui/i],[i,[f,"Nvidia"],[h,di]],[/(playstation [345portablevi]+)/i],[i,[f,da],[h,di]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[i,[f,Yr],[h,di]],[/smart-tv.+(samsung)/i],[f,[h,Yr="smarttv"]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[f,t],[h,Yr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[h,Yr]],[/(apple) ?tv/i],[f,[i,dr+" TV"],[h,Yr]],[/crkey/i],[[i,e+"cast"],[f,Da],[h,Yr]],[/droid.+aft(\w)( bui|\))/i],[i,[f,S],[h,Yr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[i,[f,"Sharp"],[h,Yr]],[/(bravia[\w ]+)( bui|\))/i],[i,[f,da],[h,Yr]],[/(mitv-\w{5}) bui/i],[i,[f,Ta],[h,Yr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,aa],[i,aa],[h,Yr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,Yr]],[/((pebble))app/i],[f,i,[h,t="wearable"]],[/droid.+; (glass) \d/i],[i,[f,Da],[h,t]],[/droid.+; (wt63?0{2,3})\)/i],[i,[f,za],[h,t]],[/(quest( 2)?)/i],[i,[f,Ft],[h,t]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,dr="embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[i,[h,r]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[i,[h,n]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,n]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,r]],[/(android[-\w\. ]{0,9});.+buil/i],[i,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[c,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[c,[p,oa,S={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[c,"Windows"],[p,oa,S]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,p],[/\(bb(10);/i],[p,[c,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[c,a+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[c,e+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[c,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,p],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[c,p]]},sa.VERSION="1.0.32",sa.BROWSER=na([c,p,"major"]),sa.CPU=na([Jr]),sa.DEVICE=na([i,f,h,di,r,Yr,n,t,dr]),sa.ENGINE=sa.OS=na([c,p]),(ze=hr.exports?hr.exports=sa:ze).UAParser=sa,(ea=typeof Zr!=Vr&&(Zr.jQuery||Zr.Zepto))&&!ea.ua&&(Wr=new sa,ea.ua=Wr.getResult(),ea.ua.get=function(){return Wr.getUA()},ea.ua.set=function(e){Wr.setUA(e);var t,n=Wr.getResult();for(t in n)ea.ua[t]=n[t]});var ua={isNumber:la("Number"),isString:la("String"),isBoolean:la("Boolean"),isNull:la("Null"),isUndefined:la("Undefined"),isSymbol:la("Symbol"),isFunction:la("Function"),isObject:la("Object"),isArray:la("Array"),isProcess:la("process"),isWindow:la("Window")};var ca=ua.isWindow("undefined"!=typeof window?window:0);var y=window,m=(y.__webSee__=y.__webSee__||{},y.__webSee__),da=(new ta.UAParser).getResult(),ha=(m.deviceInfo={browserVersion:da.browser.version,browser:da.browser.name,osVersion:da.os.version,os:da.os.name,ua:da.ua,device:da.device.model||"Unknow",device_type:da.device.type||"Pc"},m.errorMap=new Map,m.replaceFlag=m.replaceFlag||{},m.replaceFlag);function fa(e,t){ha[e]||(ha[e]=t)}function pa(e){return!!ha[e]}function ma(e){var t,n;return(e=e&&e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/))?(t=e[6]||"",n=e[8]||"",{host:e[4],path:e[5],protocol:e[2],relative:e[5]+t+n}):{}}function va(e){return window.btoa(encodeURIComponent(e))}function ba(e){var t=m.errorMap.has(e);return t||m.errorMap.set(e,!0),t}function ga(){return"undefined"==typeof document||null==document.location?"":document.location.href}function ya(e,t,n,r){e.addEventListener(t,n,r=void 0===r?!1:r)}function wa(e,t,n,r){void 0===r&&(r=!1),void 0!==e&&(t in e||r)&&"function"==typeof(r=n(e[t]))&&(e[t]=r)}var _a=function(n,r){var a=!0;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a&&(n.apply(this,e),a=!1,setTimeout(function(){a=!0},r))}};function w(){return Date.now()}function ka(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function v(e,t,n){return e&&(ka(e)===n||void console.error("web-see: ".concat(t,"期望传入").concat(n,"类型，目前是").concat(ka(e),"类型")))}function Sa(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}function xa(e){return ua.isString(e)?e:ua.isUndefined(e)?"undefined":JSON.stringify(e)}function Ea(e,t){return ua.isString(e)?e.slice(0,t)+(e.length>t?":截取前".concat(t,"个字符"):""):""}Ra.prototype.addFn=function(e){var t=this;"function"==typeof e&&("requestIdleCallback"in y||"Promise"in y?(this.stack.push(e),this.isFlushing||(this.isFlushing=!0,"requestIdleCallback"in y?requestIdleCallback(function(){return t.flushStack()}):Promise.resolve().then(function(){return t.flushStack()}))):e())},Ra.prototype.clear=function(){this.stack=[]},Ra.prototype.getStack=function(){return this.stack},Ra.prototype.flushStack=function(){var e=this.stack.slice(0);this.stack=[],this.isFlushing=!1;for(var t=0;t<e.length;t++)e[t]()};var Ca=Ra;function Ra(){this.stack=[],this.isFlushing=!1}Oa.prototype.push=function(e){var t;if("function"==typeof this.beforePushBreadcrumb)return(t=this.beforePushBreadcrumb(e))?void this.immediatePush(t):void 0;this.immediatePush(e)},Oa.prototype.immediatePush=function(e){e.time||(e.time=w()),this.stack.length>=this.maxBreadcrumbs&&this.shift(),this.stack.push(e),this.stack.sort(function(e,t){return e.time-t.time})},Oa.prototype.shift=function(){return void 0!==this.stack.shift()},Oa.prototype.clear=function(){this.stack=[]},Oa.prototype.getStack=function(){return this.stack},Oa.prototype.getCategory=function(e){switch(e){case g.XHR:case g.FETCH:return C.HTTP;case g.CLICK:return C.CLICK;case g.HISTORY:case g.HASHCHANGE:return C.ROUTE;case g.RESOURCE:return C.RESOURCE;case g.UNHANDLEDREJECTION:case g.ERROR:return C.CODEERROR;default:return C.CUSTOM}},Oa.prototype.bindOptions=function(e){var t=e.maxBreadcrumbs,t=void 0===t?20:t,e=e.beforePushBreadcrumb;v(t,"maxBreadcrumbs","number")&&(this.maxBreadcrumbs=t),v(e,"beforePushBreadcrumb","function")&&(this.beforePushBreadcrumb=e)};var Ta=Oa;function Oa(){this.maxBreadcrumbs=20,this.stack=[]}var _=m.breadcrumb||(m.breadcrumb=new Ta),Ia=function(){return(Ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Na(e,o,s,l){return new(s=s||Promise)(function(n,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function a(e){try{i(l.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,a)}i((l=l.apply(e,o||[])).next())})}function Aa(r,a){var i,o,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},u={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function e(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;l=u&&t[u=0]?0:l;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=a.call(r,l)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}La.prototype.beacon=function(e,t){return navigator.sendBeacon(e,JSON.stringify(t))},La.prototype.imgRequest=function(n,r){this.queue.addFn(function(){var e=new Image,t=-1===r.indexOf("?")?"?":"&";e.src="".concat(r).concat(t,"data=").concat(encodeURIComponent(JSON.stringify(n)))})},La.prototype.beforePost=function(n){return Na(this,void 0,void 0,function(){var t;return Aa(this,function(e){return t=this.getTransportData(n),"function"!=typeof this.beforeDataReport||(t=this.beforeDataReport(t))?[2,t]:[2,!1]})})},La.prototype.xhrPost=function(n,r){return Na(this,void 0,void 0,function(){var t;return Aa(this,function(e){return t=function(){fetch("".concat(r),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})},this.queue.addFn(t),[2]})})},La.prototype.getAuthInfo=function(){return{userId:this.userId||this.getAuthId()||"",sdkVersion:N,apikey:this.apikey}},La.prototype.getAuthId=function(){if("function"==typeof this.getUserId){var e=this.getUserId();if("string"==typeof e||"number"==typeof e)return e;console.error("web-see userId: ".concat(e," 期望 string 或 number 类型，但是传入 ").concat(typeof e))}return""},La.prototype.getTransportData=function(e){var t=Ia(Ia(Ia({},e),this.getAuthInfo()),{uuid:this.uuid,pageUrl:ga(),deviceInfo:m.deviceInfo});return e.type!=g.PERFORMANCE&&e.type!=g.RECORDSCREEN&&e.type!=g.WHITESCREEN&&(t.breadcrumb=_.getStack()),t},La.prototype.isSdkTransportUrl=function(e){var t=!1;return t=this.errorDsn&&-1!==e.indexOf(this.errorDsn)?!0:t},La.prototype.bindOptions=function(e){var t=e.dsn,n=e.apikey,r=e.beforeDataReport,a=e.userId,i=e.getUserId,e=e.useImgUpload;v(n,"apikey","string")&&(this.apikey=n),v(t,"dsn","string")&&(this.errorDsn=t),v(a,"userId","string")&&(this.userId=a||""),v(e,"useImgUpload","boolean")&&(this.useImgUpload=e||!1),v(r,"beforeDataReport","function")&&(this.beforeDataReport=r),v(i,"getUserId","function")&&(this.getUserId=i)},La.prototype.send=function(a){return Na(this,void 0,void 0,function(){var n,r;return Aa(this,function(e){switch(e.label){case 0:return(n=this.errorDsn,t=n,ua.isString(t)&&""===t.trim()||null==t)?(console.error("web-see: dsn为空，没有传入监控错误上报的dsn地址，请在init中传入"),[2]):(m.options.silentRecordScreen&&k.recordScreenTypeList.includes(a.type)&&(m.hasError=!0,a.recordScreenId=m.recordScreenId),[4,this.beforePost(a)]);case 1:return r=e.sent(),ca&&r&&!this.beacon(n,r)?[2,this.useImgUpload?this.imgRequest(r,n):this.xhrPost(r,n)]:[2]}var t})})};var Da=La;function La(){this.queue=new Ca,this.apikey="",this.errorDsn="",this.userId="",this.useImgUpload=!1,this.uuid=Sa()}var Ma=m.transportData||(m.transportData=new Da),za=(Fa.prototype.bindOptions=function(e){var t=e.dsn,n=e.filterXhrUrlRegExp,r=e.throttleDelayTime,r=void 0===r?0:r,a=e.silentRecordScreen,a=void 0!==a&&a,i=e.overTime,i=void 0===i?10:i,o=e.recordScreenTypeList,s=e.recordScreentime,s=void 0===s?10:s,l=e.silentWhiteScreen,l=void 0!==l&&l,u=e.whiteBoxElements,u=void 0===u?["html","body","#app","#root"]:u,c=e.skeletonProject,c=void 0!==c&&c,d=e.handleHttpStatus,e=e.repeatCodeError,e=void 0!==e&&e;v(t,"dsn","string")&&(this.dsn=t),v(r,"throttleDelayTime","number")&&(this.throttleDelayTime=r),v(i,"overTime","number")&&(this.overTime=i),v(s,"recordScreentime","number")&&(this.recordScreentime=s),v(a,"silentRecordScreen","boolean")&&(this.silentRecordScreen=a,m.recordScreenId=Sa()),v(o,"recordScreenTypeList","array")&&(this.recordScreenTypeList=o),v(n,"filterXhrUrlRegExp","regexp")&&(this.filterXhrUrlRegExp=n),v(l,"silentWhiteScreen","boolean")&&(this.silentWhiteScreen=l),v(c,"skeletonProject","boolean")&&(this.skeletonProject=c),v(u,"whiteBoxElements","array")&&(this.whiteBoxElements=u),v(d,"handleHttpStatus","function")&&(this.handleHttpStatus=d),v(e,"repeatCodeError","boolean")&&(this.repeatCodeError=e)},Fa);function Fa(){this.dsn="",this.throttleDelayTime=0,this.overTime=10,this.silentRecordScreen=!1,this.recordScreentime=10,this.silentWhiteScreen=!1,this.skeletonProject=!1,this.repeatCodeError=!1,this.recordScreenTypeList=[g.ERROR,g.UNHANDLEDREJECTION,g.RESOURCE,g.FETCH,g.XHR],this.whiteBoxElements=["html","body","#app","#root"]}var k=m.options||(m.options=new za);function Ua(e){var t;t=e,fa(g.XHR,!!t.silentXhr),fa(g.FETCH,!!t.silentFetch),fa(g.CLICK,!!t.silentClick),fa(g.HISTORY,!!t.silentHistory),fa(g.ERROR,!!t.silentError),fa(g.HASHCHANGE,!!t.silentHashchange),fa(g.UNHANDLEDREJECTION,!!t.silentUnhandledrejection),fa(g.PERFORMANCE,!!t.silentPerformance),fa(g.RECORDSCREEN,!t.silentRecordScreen),fa(g.WHITESCREEN,!t.silentWhiteScreen),_.bindOptions(e),Ma.bindOptions(e),k.bindOptions(e)}function Ha(e){var t,n="",r=e.elapsedTime,a=e.time,i=e.method,i=void 0===i?"":i,o=e.type,s=e.Status,s=void 0===s?200:s,l=e.response,u=e.requestData;return 0===s?(t=b.ERROR,n=r<=1e3*k.overTime?"请求失败，Status值为:".concat(s):"请求失败，接口超时"):s<T.BAD_REQUEST?(t=b.OK,k.handleHttpStatus&&"function"==typeof k.handleHttpStatus&&(k.handleHttpStatus(e)?t=b.OK:(t=b.ERROR,n="接口报错，报错信息为：".concat("object"==typeof l?JSON.stringify(l):l)))):(t=b.ERROR,n="请求失败，Status值为:".concat(s,"，").concat(function(e){if(e<400)return E.Ok;if(400<=e&&e<500)switch(e){case 401:return E.Unauthenticated;case 403:return E.PermissionDenied;case 404:return E.NotFound;case 409:return E.AlreadyExists;case 413:return E.FailedPrecondition;case 429:return E.ResourceExhausted;default:return E.InvalidArgument}if(500<=e&&e<600)switch(e){case 501:return E.Unimplemented;case 503:return E.Unavailable;case 504:return E.DeadlineExceeded;default:return E.InternalError}return E.UnknownError}(s))),n="".concat(e.url,"; ").concat(n),{url:e.url,time:a,status:t,elapsedTime:r,message:n,requestData:{httpType:o,method:i,data:u||""},response:{Status:s,data:t==b.ERROR?l:null}}}var Pa,Ba={},Ft={get exports(){return Ba},set exports(e){Ba=e}},ja={},Za={get exports(){return ja},set exports(e){ja=e}};function Wa(){return Pa||(Pa=1,Za.exports=function(){function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var t=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o,s,l=t.concat(a,i,["args"],["evalOrigin"]);function d(e){if(!e)return;for(var t=0;t<l.length;t++)if(e[l[t]]!==undefined)this["set"+r(l[t])](e[l[t]])}d.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof d)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new d(e);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"";var t=this.getLineNumber()||"";var n=this.getColumnNumber()||"";var r=this.getFunctionName()||"";if(this.getIsEval()){if(e)return"[eval] ("+e+":"+t+":"+n+")";return"[eval]:"+t+":"+n}if(r)return r+" ("+e+":"+t+":"+n+")";return e+":"+t+":"+n}},d.fromString=function e(t){var n=t.indexOf("(");var r=t.lastIndexOf(")");var a=t.substring(0,n);var i=t.substring(n+1,r).split(",");var o=t.substring(r+1);if(o.indexOf("@")===0){var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,"");var l=s[1];var u=s[2];var c=s[3]}return new d({functionName:a,args:i||undefined,fileName:l,lineNumber:u||undefined,columnNumber:c||undefined})};for(var u=0;u<t.length;u++){d.prototype["get"+r(t[u])]=e(t[u]);d.prototype["set"+r(t[u])]=function(t){return function(e){this[t]=Boolean(e)}}(t[u])}for(var c=0;c<a.length;c++){d.prototype["get"+r(a[c])]=e(a[c]);d.prototype["set"+r(a[c])]=function(t){return function(e){if(!n(e))throw new TypeError(t+" must be a Number");this[t]=Number(e)}}(a[c])}for(var h=0;h<i.length;h++){d.prototype["get"+r(i[h])]=e(i[h]);d.prototype["set"+r(i[h])]=function(t){return function(e){this[t]=String(e)}}(i[h])}return d}()),ja}Ft.exports=function(l){var r=/(^|@)\S+:\d+/;var a=/^\s*at .*(\S+:\d+|\(native\))/m;var i=/^(eval@)?(\[native code])?$/;return{parse:function e(t){if(typeof t.stacktrace!=="undefined"||typeof t["opera#sourceloc"]!=="undefined")return this.parseOpera(t);else if(t.stack&&t.stack.match(a))return this.parseV8OrIE(t);else if(t.stack)return this.parseFFOrSafari(t);else throw new Error("Cannot parse given Error object")},extractLocation:function e(t){if(t.indexOf(":")===-1)return[t];var n=/(.+?)(?::(\d+))?(?::(\d+))?$/;var r=n.exec(t.replace(/[()]/g,""));return[r[1],r[2]||undefined,r[3]||undefined]},parseV8OrIE:function e(t){var n=t.stack.split("\n").filter(function(e){return!!e.match(a)},this);return n.map(function(e){if(e.indexOf("(eval ")>-1)e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,"");var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");var n=t.match(/ (\(.+\)$)/);t=n?t.replace(n[0],""):t;var r=this.extractLocation(n?n[1]:t);var a=n&&t||undefined;var i=["eval","<anonymous>"].indexOf(r[0])>-1?undefined:r[0];return new l({functionName:a,fileName:i,lineNumber:r[1],columnNumber:r[2],source:e})},this)},parseFFOrSafari:function e(t){var n=t.stack.split("\n").filter(function(e){return!e.match(i)},this);return n.map(function(e){if(e.indexOf(" > eval")>-1)e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1");if(e.indexOf("@")===-1&&e.indexOf(":")===-1)return new l({functionName:e});else{var t=/((.*".+"[^@]*)?[^@]*)(?:@)/;var n=e.match(t);var r=n&&n[1]?n[1]:undefined;var a=this.extractLocation(e.replace(t,""));return new l({functionName:r,fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:e})}},this)},parseOpera:function e(t){if(!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length)return this.parseOpera9(t);else if(!t.stack)return this.parseOpera10(t);else return this.parseOpera11(t)},parseOpera9:function e(t){var n=/Line (\d+).*script (?:in )?(\S+)/i;var r=t.message.split("\n");var a=[];for(var i=2,o=r.length;i<o;i+=2){var s=n.exec(r[i]);if(s)a.push(new l({fileName:s[2],lineNumber:s[1],source:r[i]}))}return a},parseOpera10:function e(t){var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var r=t.stacktrace.split("\n");var a=[];for(var i=0,o=r.length;i<o;i+=2){var s=n.exec(r[i]);if(s)a.push(new l({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:r[i]}))}return a},parseOpera11:function e(t){var n=t.stack.split("\n").filter(function(e){return!!e.match(r)&&!e.match(/^Error created at/)},this);return n.map(function(e){var t=e.split("@");var n=this.extractLocation(t.pop());var r=t.shift()||"";var a=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var i;if(r.match(/\(([^)]*)\)/))i=r.replace(/^[^(]+\(([^)]*)\)$/,"$1");var o=i===undefined||i==="[arguments not available]"?undefined:i.split(",");return new l({functionName:a,args:o,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e})},this)}}}(Wa());var qa=Ba;var Ga={};function Va(e,r){e&&Ga[e]&&null!=(e=Ga[e])&&e.forEach(function(e){var t=function(){e(r)},n=function(){};try{t()}catch(e){n&&n(e)}})}var D,S,ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function Ka(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function ge(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Xa(e){var t=null==(t=e)?void 0:t.host;return Boolean(t&&t.shadowRoot&&t.shadowRoot===e)}function Ja(e){var t=e.maskInputOptions,n=e.tagName,r=e.type,a=e.value,e=e.maskInputFn,a=a||"";return a=t[n.toLowerCase()]||t[r]?e?e(a):"*".repeat(a.length):a}(S=D=D||{})[S.Document=0]="Document",S[S.DocumentType=1]="DocumentType",S[S.Element=2]="Element",S[S.Text=3]="Text",S[S.CDATA=4]="CDATA",S[S.Comment=5]="Comment";var Ya="__rrweb_original__";var $a,Qa,ei=1,ti=new RegExp("[^a-z0-9-_:]"),ni=-2;function ri(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(ai).join(""):null}catch(e){return null}}function ai(e){var t=e.cssText;if("styleSheet"in e)try{t=ri(e.styleSheet)||t}catch(e){}return t}var ii=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,oi=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,si=/^(data:)([^,]*),(.*)/i;function li(e,c){return(e||"").replace(ii,function(e,t,n,r,a,i){n=n||a||i,a=t||r||"";if(!n)return e;if(!oi.test(n))return"url("+a+n+a+")";if(si.test(n))return"url("+a+n+a+")";if("/"===n[0])return"url("+a+((-1<(i=c).indexOf("//")?i.split("/").slice(0,3).join("/"):i.split("/")[0]).split("?")[0]+n)+a+")";var o=c.split("/"),t=n.split("/");o.pop();for(var s=0,l=t;s<l.length;s++){var u=l[s];"."!==u&&(".."===u?o.pop():o.push(u))}return"url("+a+o.join("/")+a+")"})}var B,x,ye,ui,ci,di,hi=/^[^ \t\n\r\u000c]+/,fi=/^[, \t\n\r\u000c]+/;function pi(e,t){return t&&""!==t.trim()?((e=e.createElement("a")).href=t,e.href):t}function mi(){var e=document.createElement("a");return e.href="",e.href}function vi(e,t,n,r){if("src"===n||"href"===n&&r)return pi(e,r);if("xlink:href"===n&&r&&"#"!==r[0]||"background"===n&&r&&("table"===t||"td"===t||"th"===t))return pi(e,r);if("srcset"===n&&r){var a=e,i=r;if(""===i.trim())return i;var o=0;function s(e){var e=e.exec(i.substring(o));return e?(e=e[0],o+=e.length,e):""}for(var l=[];s(fi),!(o>=i.length);)if(","===(c=s(hi)).slice(-1))c=pi(a,c.substring(0,c.length-1)),l.push(c);else for(var u="",c=pi(a,c),d=!1;;){var h=i.charAt(o);if(""===h){l.push((c+u).trim());break}if(d)")"===h&&(d=!1);else{if(","===h){o+=1,l.push((c+u).trim());break}"("===h&&(d=!0)}u+=h,o+=1}return l.join(", ")}return"style"===n&&r?li(r,mi()):"object"===t&&"data"===n&&r?pi(e,r):r}function bi(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return e.nodeType,e.TEXT_NODE,bi(e.parentNode,t,n);if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var r=0;r<e.classList.length;r++){var a=e.classList[r];if(t.test(a))return!0}return!(!n||!e.matches(n))||bi(e.parentNode,t,n)}function gi(t,e){var n,r,a,i=e.doc,o=e.blockClass,s=e.blockSelector,l=e.maskTextClass,u=e.maskTextSelector,c=e.inlineStylesheet,d=e.maskInputOptions,h=void 0===d?{}:d,f=e.maskTextFn,p=e.maskInputFn,d=e.dataURLOptions,m=void 0===d?{}:d,v=e.inlineImages,b=e.recordCanvas,g=e.keepIframeSrcFn;switch(i.__sn&&(r=1===(d=i.__sn.id)?void 0:d),t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:D.Document,childNodes:[],compatMode:t.compatMode,rootId:r}:{type:D.Document,childNodes:[],rootId:r};case t.DOCUMENT_TYPE_NODE:return{type:D.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:r};case t.ELEMENT_NODE:for(var y,w,_,k=function(e,t,n){if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var r=0;r<e.classList.length;r++){var a=e.classList[r];if(t.test(a))return!0}return!!n&&e.matches(n)}(t,o,s),S=(I=t)instanceof HTMLFormElement?"form":(I=I.tagName.toLowerCase().trim(),ti.test(I)?"div":I),x={},E=0,C=Array.from(t.attributes);E<C.length;E++){var R=C[E],T=R.name,O=R.value;x[T]=vi(i,S,T,O)}return"link"===S&&c&&(_=null,_=(I=Array.from(i.styleSheets).find(function(e){return e.href===t.href}))?ri(I):_)&&(delete x.rel,delete x.href,x._cssText=li(_,I.href)),"style"===S&&t.sheet&&!(t.innerText||t.textContent||"").trim().length&&(_=ri(t.sheet))&&(x._cssText=li(_,mi())),"input"!==S&&"textarea"!==S&&"select"!==S||(O=t.value,"radio"!==x.type&&"checkbox"!==x.type&&"submit"!==x.type&&"button"!==x.type&&O?x.value=Ja({type:x.type,tagName:S,value:O,maskInputOptions:h,maskInputFn:p}):t.checked&&(x.checked=t.checked)),"option"===S&&(t.selected&&!h.select?x.selected=!0:delete x.selected),"canvas"===S&&b&&("2d"===t.__context?function(e){var t=e.getContext("2d");if(t)for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var a=t.getImageData,a=Ya in a?a[Ya]:a;if(new Uint32Array(a.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(function(e){return 0!==e}))return}return 1}(t)||(x.rr_dataURL=t.toDataURL(m.type,m.quality)):"__context"in t||(I=t.toDataURL(m.type,m.quality),(_=document.createElement("canvas")).width=t.width,_.height=t.height,I!==_.toDataURL(m.type,m.quality)&&(x.rr_dataURL=I))),"img"===S&&v&&($a||($a=i.createElement("canvas"),Qa=$a.getContext("2d")),w=(y=t).crossOrigin,y.crossOrigin="anonymous",_=function(){try{$a.width=y.naturalWidth,$a.height=y.naturalHeight,Qa.drawImage(y,0,0),x.rr_dataURL=$a.toDataURL(m.type,m.quality)}catch(e){console.warn("Cannot inline img src="+y.currentSrc+"! Error: "+e)}w?x.crossOrigin=w:delete x.crossOrigin},y.complete&&0!==y.naturalWidth?_():y.onload=_),"audio"!==S&&"video"!==S||(x.rr_mediaState=t.paused?"paused":"played",x.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(x.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(x.rr_scrollTop=t.scrollTop),k&&(_=(I=t.getBoundingClientRect()).width,I=I.height,x={class:x.class,rr_width:_+"px",rr_height:I+"px"}),"iframe"!==S||g(x.src)||(t.contentDocument||(x.rr_src=x.src),delete x.src),{type:D.Element,tagName:S,attributes:x,childNodes:[],isSVG:(_=t,Boolean("svg"===_.tagName||_.ownerSVGElement)||void 0),needBlock:k,rootId:r};case t.TEXT_NODE:var I=t.parentNode&&t.parentNode.tagName,k=t.textContent,N="STYLE"===I||void 0,A="SCRIPT"===I||void 0;if(N&&k){try{t.nextSibling||t.previousSibling||null!=(n=t.parentNode.sheet)&&n.cssRules&&(k=(a=t.parentNode.sheet).cssRules?Array.from(a.cssRules).map(function(e){return e.cssText||""}).join(""):"")}catch(e){console.warn("Cannot get CSS styles from text's parentNode. Error: "+e,t)}k=li(k,mi())}return A&&(k="SCRIPT_PLACEHOLDER"),N||A||!bi(t,l,u)||(k=k&&(f?f(k):k.replace(/[\S]/g,"*"))),{type:D.Text,textContent:k||"",isStyle:N,rootId:r};case t.CDATA_SECTION_NODE:return{type:D.CDATA,textContent:"",rootId:r};case t.COMMENT_NODE:return{type:D.Comment,textContent:t.textContent||"",rootId:r};default:return!1}}function I(e){return void 0===e?"":e.toLowerCase()}function yi(t,e){var n=e.doc,r=e.map,a=e.blockClass,i=e.blockSelector,o=e.maskTextClass,s=e.maskTextSelector,l=e.skipChild,l=void 0!==l&&l,u=e.inlineStylesheet,c=void 0===u||u,u=e.maskInputOptions,d=void 0===u?{}:u,h=e.maskTextFn,f=e.maskInputFn,p=e.slimDOMOptions,u=e.dataURLOptions,m=void 0===u?{}:u,u=e.inlineImages,v=void 0!==u&&u,u=e.recordCanvas,b=void 0!==u&&u,g=e.onSerialize,y=e.onIframeLoad,u=e.iframeLoadTimeout,w=void 0===u?5e3:u,u=e.keepIframeSrcFn,_=void 0===u?function(){return!1}:u,u=e.preserveWhiteSpace,k=void 0===u||u,e=gi(t,{doc:n,blockClass:a,blockSelector:i,maskTextClass:o,maskTextSelector:s,inlineStylesheet:c,maskInputOptions:d,maskTextFn:h,maskInputFn:f,dataURLOptions:m,inlineImages:v,recordCanvas:b,keepIframeSrcFn:_});if(!e)return console.warn(t,"not serialized"),null;var u="__sn"in t?t.__sn.id:!function(e,t){if(t.comment&&e.type===D.Comment)return 1;if(e.type===D.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return 1;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(I(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===I(e.attributes.name)||"icon"===I(e.attributes.rel)||"apple-touch-icon"===I(e.attributes.rel)||"shortcut icon"===I(e.attributes.rel))))return 1;if("meta"===e.tagName){if(t.headMetaDescKeywords&&I(e.attributes.name).match(/^description|keywords$/))return 1;if(t.headMetaSocial&&(I(e.attributes.property).match(/^(og|twitter|fb):/)||I(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===I(e.attributes.name)))return 1;if(t.headMetaRobots&&("robots"===I(e.attributes.name)||"googlebot"===I(e.attributes.name)||"bingbot"===I(e.attributes.name)))return 1;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return 1;if(t.headMetaAuthorship&&("author"===I(e.attributes.name)||"generator"===I(e.attributes.name)||"framework"===I(e.attributes.name)||"publisher"===I(e.attributes.name)||"progid"===I(e.attributes.name)||I(e.attributes.property).match(/^article:/)||I(e.attributes.property).match(/^product:/)))return 1;if(t.headMetaVerification&&("google-site-verification"===I(e.attributes.name)||"yandex-verification"===I(e.attributes.name)||"csrf-token"===I(e.attributes.name)||"p:domain_verify"===I(e.attributes.name)||"verify-v1"===I(e.attributes.name)||"verification"===I(e.attributes.name)||"shopify-checkout-api-token"===I(e.attributes.name)))return 1}}}(e,p)&&(k||e.type!==D.Text||e.isStyle||e.textContent.replace(/^\s+|\s+$/gm,"").length)?ei++:ni,S=Object.assign(e,{id:u});if(t.__sn=S,u===ni)return null;r[u]=t,g&&g(t);u=!l;if(S.type===D.Element&&(u=u&&!S.needBlock,delete S.needBlock,t.shadowRoot)&&(S.isShadowHost=!0),(S.type===D.Document||S.type===D.Element)&&u){p.headWhitespace&&e.type===D.Element&&"head"===e.tagName&&(k=!1);for(var x={doc:n,map:r,blockClass:a,blockSelector:i,maskTextClass:o,maskTextSelector:s,skipChild:l,inlineStylesheet:c,maskInputOptions:d,maskTextFn:h,maskInputFn:f,slimDOMOptions:p,dataURLOptions:m,inlineImages:v,recordCanvas:b,preserveWhiteSpace:k,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:w,keepIframeSrcFn:_},E=0,C=Array.from(t.childNodes);E<C.length;E++)(R=yi(C[E],x))&&S.childNodes.push(R);if(t.nodeType===t.ELEMENT_NODE&&t.shadowRoot)for(var R,T=0,O=Array.from(t.shadowRoot.childNodes);T<O.length;T++)(R=yi(O[T],x))&&(R.isShadow=!0,S.childNodes.push(R))}return t.parentNode&&Xa(t.parentNode)&&(S.isShadow=!0),S.type===D.Element&&"iframe"===S.tagName&&function(e,t,n){var r=e.contentWindow;if(r){var a,i,o=!1;try{i=r.document.readyState}catch(e){return}"complete"!==i?(a=setTimeout(function(){o||(t(),o=!0)},n),e.addEventListener("load",function(){clearTimeout(a),o=!0,t()})):r.location.href!==(i="about:blank")||e.src===i||""===e.src?setTimeout(t,0):e.addEventListener("load",t)}}(t,function(){var e=t.contentDocument;e&&y&&(e=yi(e,{doc:e,map:r,blockClass:a,blockSelector:i,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:c,maskInputOptions:d,maskTextFn:h,maskInputFn:f,slimDOMOptions:p,dataURLOptions:m,inlineImages:v,recordCanvas:b,preserveWhiteSpace:k,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:w,keepIframeSrcFn:_}))&&y(t,e)},w),S}function wi(e,t,n){void 0===n&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}(x=B=B||{})[x.DomContentLoaded=0]="DomContentLoaded",x[x.Load=1]="Load",x[x.FullSnapshot=2]="FullSnapshot",x[x.IncrementalSnapshot=3]="IncrementalSnapshot",x[x.Meta=4]="Meta",x[x.Custom=5]="Custom",x[x.Plugin=6]="Plugin",(a=ye=ye||{})[a.Mutation=0]="Mutation",a[a.MouseMove=1]="MouseMove",a[a.MouseInteraction=2]="MouseInteraction",a[a.Scroll=3]="Scroll",a[a.ViewportResize=4]="ViewportResize",a[a.Input=5]="Input",a[a.TouchMove=6]="TouchMove",a[a.MediaInteraction=7]="MediaInteraction",a[a.StyleSheetRule=8]="StyleSheetRule",a[a.CanvasMutation=9]="CanvasMutation",a[a.Font=10]="Font",a[a.Log=11]="Log",a[a.Drag=12]="Drag",a[a.StyleDeclaration=13]="StyleDeclaration",(e=ui=ui||{})[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",(di=ci=ci||{})[di["2D"]=0]="2D",di[di.WebGL=1]="WebGL",di[di.WebGL2=2]="WebGL2";var _i="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",r={map:{},getId:function(){return console.error(_i),-1},getNode:function(){return console.error(_i),null},removeNodeFromMap:function(){console.error(_i)},has:function(){return console.error(_i),!1},reset:function(){console.error(_i)}};function ki(i,o,s){void 0===s&&(s={});var l=null,u=0;return function(e){var t=Date.now(),n=(u||!1!==s.leading||(u=t),o-(t-u)),r=this,a=arguments;n<=0||o<n?(l&&(clearTimeout(l),l=null),u=t,i.apply(r,a)):l||!1===s.trailing||(l=setTimeout(function(){u=!1===s.leading?0:Date.now(),l=null,i.apply(r,a)},n))}}function Si(e,t,n,r,a){var i=(a=void 0===a?window:a).Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set:function(e){var t=this;setTimeout(function(){n.set.call(t,e)},0),i&&i.set&&i.set.call(this,e)}}),function(){return Si(e,t,i||{},!0)}}function xi(e,t,n){try{var r,a;return t in e?("function"==typeof(a=n(r=e[t]))&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,function(){e[t]=r}):function(){}}catch(e){return function(){}}}function Ei(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Ci(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ri(e,t){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return e.nodeType,e.TEXT_NODE,Ri(e.parentNode,t);var n=!1;if("string"==typeof t){if(void 0!==e.closest)return null!==e.closest("."+t);n=e.classList.contains(t)}else e.classList.forEach(function(e){t.test(e)&&(n=!0)});return n||Ri(e.parentNode,t)}function Ti(e){return"__sn"in e&&e.__sn.id===ni}function Oi(e){return Boolean(e.changedTouches)}function Ii(e){return"__sn"in e&&e.__sn.type===D.Element&&"iframe"===e.__sn.tagName}function Ni(e){return Boolean(null==e?void 0:e.shadowRoot)}function Ai(e){return"__ln"in e}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&new Proxy(r,{get:function(e,t,n){return"map"===t&&console.error(_i),Reflect.get(e,t,n)}});Li.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t},Li.prototype.addNode=function(e){var t,n={value:e,previous:null,next:null};e.__ln=n,e.previousSibling&&Ai(e.previousSibling)?(t=e.previousSibling.__ln.next,n.next=t,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,t&&(t.previous=n)):e.nextSibling&&Ai(e.nextSibling)&&e.nextSibling.__ln.previous?(t=e.nextSibling.__ln.previous,n.previous=t,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,t&&(t.next=n)):(this.head&&(this.head.previous=n),n.next=this.head,this.head=n),this.length++},Li.prototype.removeNode=function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)};var Di=Li;function Li(){this.length=0,this.head=null}function Mi(e,t){return"".concat(e,"@").concat(t)}function zi(e){return"__sn"in e}function Fi(){var y=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(y.processMutation),y.emit()},this.emit=function(){var t,n,e;if(!y.frozen&&!y.locked){for(var o=[],s=new Di,l=function(e){for(var t=e,n=ni;n===ni;)n=(t=t&&t.nextSibling)&&y.mirror.getId(t);return n},r=function(t){for(var e,n=t.getRootNode?null==(n=t.getRootNode())?void 0:n.host:null,r=n;null!=(e=null==(e=null==r?void 0:r.getRootNode)?void 0:e.call(r))&&e.host;)r=(null==(e=null==(e=null==r?void 0:r.getRootNode)?void 0:e.call(r))?void 0:e.host)||null;var a,i=!(y.doc.contains(t)||null!==r&&y.doc.contains(r));if(t.parentNode&&!i)return i=Xa(t.parentNode)?y.mirror.getId(n):y.mirror.getId(t.parentNode),n=l(t),-1===i||-1===n?s.addNode(t):void((a=yi(t,{doc:y.doc,map:y.mirror.map,blockClass:y.blockClass,blockSelector:y.blockSelector,maskTextClass:y.maskTextClass,maskTextSelector:y.maskTextSelector,skipChild:!0,inlineStylesheet:y.inlineStylesheet,maskInputOptions:y.maskInputOptions,maskTextFn:y.maskTextFn,maskInputFn:y.maskInputFn,slimDOMOptions:y.slimDOMOptions,recordCanvas:y.recordCanvas,inlineImages:y.inlineImages,onSerialize:function(e){Ii(e)&&y.iframeManager.addIframe(e),Ni(t)&&y.shadowDomManager.addShadowRoot(t.shadowRoot,document)},onIframeLoad:function(e,t){y.iframeManager.attachIframe(e,t),y.shadowDomManager.observeAttachShadow(e)}}))&&o.push({parentId:i,nextId:n,node:a}))};y.mapRemoves.length;)y.mirror.removeNodeFromMap(y.mapRemoves.shift());try{for(var a=Ka(y.movedSet),i=a.next();!i.done;i=a.next()){var u=i.value;Hi(y.removes,u,y.mirror)&&!y.movedSet.has(u.parentNode)||r(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(g=a.return)&&g.call(a)}finally{if(t)throw t.error}}try{for(var c=Ka(y.addedSet),d=c.next();!d.done;d=c.next()){u=d.value;!Pi(y.droppedSet,u)&&!Hi(y.removes,u,y.mirror)||Pi(y.movedSet,u)?r(u):y.droppedSet.add(u)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}for(var h=null;s.length;){var f=null;if(!(f=h&&(v=y.mirror.getId(h.value.parentNode),b=l(h.value),-1!==v)&&-1!==b?h:f))for(var p=s.length-1;0<=p;p--){var m=s.get(p);if(m){var v=y.mirror.getId(m.value.parentNode),b=l(m.value);if(-1!==v&&-1!==b){f=m;break}}}if(!f){for(;s.head;)s.removeNode(s.head.value);break}h=f.previous,s.removeNode(f.value),r(f.value)}var g={texts:y.texts.map(function(e){return{id:y.mirror.getId(e.node),value:e.value}}).filter(function(e){return y.mirror.has(e.id)}),attributes:y.attributes.map(function(e){return{id:y.mirror.getId(e.node),attributes:e.attributes}}).filter(function(e){return y.mirror.has(e.id)}),removes:y.removes,adds:o};(g.texts.length||g.attributes.length||g.removes.length||g.adds.length)&&(y.texts=[],y.attributes=[],y.removes=[],y.addedSet=new Set,y.movedSet=new Set,y.droppedSet=new Set,y.movedMap={},y.mutationCb(g))}},this.processMutation=function(r){var t,e,n,a;if(!Ti(r.target))switch(r.type){case"characterData":var i=r.target.textContent;Ri(r.target,y.blockClass)||i===r.oldValue||y.texts.push({value:bi(r.target,y.maskTextClass,y.maskTextSelector)&&i?y.maskTextFn?y.maskTextFn(i):i.replace(/[\S]/g,"*"):i,node:r.target});break;case"attributes":var o=r.target,i=r.target.getAttribute(r.attributeName);if("value"===r.attributeName&&(i=Ja({maskInputOptions:y.maskInputOptions,tagName:r.target.tagName,type:r.target.getAttribute("type"),value:i,maskInputFn:y.maskInputFn})),Ri(r.target,y.blockClass)||i===r.oldValue)return;var s=y.attributes.find(function(e){return e.node===r.target});if(s||(s={node:r.target,attributes:{}},y.attributes.push(s)),"style"===r.attributeName){var l=y.doc.createElement("span"),u=(r.oldValue&&l.setAttribute("style",r.oldValue),void 0!==s.attributes.style&&null!==s.attributes.style||(s.attributes.style={}),s.attributes.style);try{for(var c=Ka(Array.from(o.style)),d=c.next();!d.done;d=c.next()){var h=d.value,f=o.style.getPropertyValue(h),p=o.style.getPropertyPriority(h);f===l.style.getPropertyValue(h)&&p===l.style.getPropertyPriority(h)||(u[h]=""===p?f:[f,p])}}catch(e){t={error:e}}finally{try{d&&!d.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}try{for(var m=Ka(Array.from(l.style)),v=m.next();!v.done;v=m.next()){h=v.value;""===o.style.getPropertyValue(h)&&(u[h]=!1)}}catch(e){n={error:e}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}}else s.attributes[r.attributeName]=vi(y.doc,r.target.tagName,r.attributeName,i);break;case"childList":r.addedNodes.forEach(function(e){return y.genAdds(e,r.target)}),r.removedNodes.forEach(function(e){var t=y.mirror.getId(e),n=Xa(r.target)?y.mirror.getId(r.target.host):y.mirror.getId(r.target);Ri(r.target,y.blockClass)||Ti(e)||(y.addedSet.has(e)?(Ui(y.addedSet,e),y.droppedSet.add(e)):y.addedSet.has(r.target)&&-1===t||function e(t,n){var r;return!Xa(t)&&(r=n.getId(t),!n.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,n)))}(r.target,y.mirror)||(y.movedSet.has(e)&&y.movedMap[Mi(t,n)]?Ui(y.movedSet,e):y.removes.push({parentId:n,id:t,isShadow:!!Xa(r.target)||void 0})),y.mapRemoves.push(e))})}},this.genAdds=function(e,t){if(!t||!Ri(t,y.blockClass)){if(zi(e)){if(Ti(e))return;y.movedSet.add(e);var n=null;(n=t&&zi(t)?t.__sn.id:n)&&(y.movedMap[Mi(e.__sn.id,n)]=!0)}else y.addedSet.add(e),y.droppedSet.delete(e);Ri(e,y.blockClass)||e.childNodes.forEach(function(e){return y.genAdds(e)})}}}function Ui(t,e){t.delete(e),e.childNodes.forEach(function(e){return Ui(t,e)})}function Hi(e,t,n){var r,t=t.parentNode;return!!t&&(r=n.getId(t),!!e.some(function(e){return e.id===r})||Hi(e,t,n))}function Pi(e,t){t=t.parentNode;return!!t&&(!!e.has(t)||Pi(e,t))}Fi.prototype.init=function(t){var n=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach(function(e){n[e]=t[e]})},Fi.prototype.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},Fi.prototype.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},Fi.prototype.isFrozen=function(){return this.frozen},Fi.prototype.lock=function(){this.locked=!0,this.canvasManager.lock()},Fi.prototype.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},Fi.prototype.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()};var Bi=Fi,ji=[],Zi="undefined"!=typeof CSSGroupingRule,Wi="undefined"!=typeof CSSMediaRule,qi="undefined"!=typeof CSSSupportsRule,Gi="undefined"!=typeof CSSConditionRule;function Vi(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0];return t.target}catch(e){return t.target}}function Ki(e,t){var n=new Bi,e=(ji.push(n),n.init(e),window.MutationObserver||window.__rrMutationObserver),r=null==(r=null==(a=null===window||void 0===window?void 0:window.Zone)?void 0:a.__symbol__)?void 0:r.call(a,"MutationObserver"),a=new(e=r&&window[r]?window[r]:e)(n.processMutations.bind(n));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Xi(e){var t,a,i=e.mouseInteractionCb,o=e.doc,s=e.mirror,l=e.blockClass,e=e.sampling;return!1===e.mouseInteraction?function(){}:(t=!0===e.mouseInteraction||void 0===e.mouseInteraction?{}:e.mouseInteraction,a=[],Object.keys(ui).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==t[e]}).forEach(function(e){function t(e){var t,n=Vi(e);Ri(n,l)||(e=Oi(e)?e.changedTouches[0]:e)&&(n=s.getId(n),t=e.clientX,e=e.clientY,i({type:ui[r],id:n,x:t,y:e}))}var r,n=e.toLowerCase();r=e;a.push(wi(n,t,o))}),function(){a.forEach(function(e){return e()})})}function Ji(e){var r=e.scrollCb,a=e.doc,i=e.mirror,o=e.blockClass;return wi("scroll",ki(function(e){var t,n,e=Vi(e);e&&!Ri(e,o)&&(t=i.getId(e),e===a?(n=a.scrollingElement||a.documentElement,r({id:t,x:n.scrollLeft,y:n.scrollTop})):r({id:t,x:e.scrollLeft,y:e.scrollTop}))},e.sampling.scroll||100),a)}function Yi(e,t){e=ve({},e);return t||delete e.userTriggered,e}var $i=["INPUT","TEXTAREA","SELECT"],Qi=new WeakMap;function eo(e){var t;return e=e,t=[],e=(Zi&&e.parentRule instanceof CSSGroupingRule||Wi&&e.parentRule instanceof CSSMediaRule||qi&&e.parentRule instanceof CSSSupportsRule||Gi&&e.parentRule instanceof CSSConditionRule?Array.from(e.parentRule.cssRules):Array.from(e.parentStyleSheet.cssRules)).indexOf(e),t.unshift(e),t}function to(e){function t(a){return ki(function(e){var t,n,r,e=Vi(e);e&&!Ri(e,o)&&(t=e.currentTime,n=e.volume,r=e.muted,i({type:a,id:s.getId(e),currentTime:t,volume:n,muted:r}))},n.media||500)}var i=e.mediaInteractionCb,o=e.blockClass,s=e.mirror,n=e.sampling,r=[wi("play",t(0)),wi("pause",t(1)),wi("seeked",t(2)),wi("volumechange",t(3))];return function(){r.forEach(function(e){return e()})}}function no(e,t){var n,r,a,i,z,F,U,H,P,B,j,Z,W,q,o=e.doc.defaultView;if(!o)return function(){};a=t=void 0===t?{}:t,i=(t=e).mutationCb,z=t.mousemoveCb,F=t.mouseInteractionCb,U=t.scrollCb,H=t.viewportResizeCb,P=t.inputCb,B=t.mediaInteractionCb,j=t.styleSheetRuleCb,Z=t.styleDeclarationCb,W=t.canvasMutationCb,q=t.fontCb,t.mutationCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.mutation&&a.mutation.apply(a,ge([],be(e),!1)),i.apply(void 0,ge([],be(e),!1))},t.mousemoveCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.mousemove&&a.mousemove.apply(a,ge([],be(e),!1)),z.apply(void 0,ge([],be(e),!1))},t.mouseInteractionCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.mouseInteraction&&a.mouseInteraction.apply(a,ge([],be(e),!1)),F.apply(void 0,ge([],be(e),!1))},t.scrollCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.scroll&&a.scroll.apply(a,ge([],be(e),!1)),U.apply(void 0,ge([],be(e),!1))},t.viewportResizeCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.viewportResize&&a.viewportResize.apply(a,ge([],be(e),!1)),H.apply(void 0,ge([],be(e),!1))},t.inputCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.input&&a.input.apply(a,ge([],be(e),!1)),P.apply(void 0,ge([],be(e),!1))},t.mediaInteractionCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.mediaInteaction&&a.mediaInteaction.apply(a,ge([],be(e),!1)),B.apply(void 0,ge([],be(e),!1))},t.styleSheetRuleCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.styleSheetRule&&a.styleSheetRule.apply(a,ge([],be(e),!1)),j.apply(void 0,ge([],be(e),!1))},t.styleDeclarationCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.styleDeclaration&&a.styleDeclaration.apply(a,ge([],be(e),!1)),Z.apply(void 0,ge([],be(e),!1))},t.canvasMutationCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.canvasMutation&&a.canvasMutation.apply(a,ge([],be(e),!1)),W.apply(void 0,ge([],be(e),!1))},t.fontCb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.font&&a.font.apply(a,ge([],be(e),!1)),q.apply(void 0,ge([],be(e),!1))};var s,l,G,V,K,X,J,u,c,Y,d,$,Q,ee,h,te,f,p,ne=Ki(e,e.doc),re=(K=(t=e).mousemoveCb,T=t.sampling,m=t.doc,X=t.mirror,!1===T.mousemove?function(){}:(t="number"==typeof T.mousemove?T.mousemove:50,T="number"==typeof T.mousemoveCallback?T.mousemoveCallback:500,G=ki(function(e){var t=Date.now()-l;K(s.map(function(e){return e.timeOffset-=t,e}),e),s=[],l=null},T),T=ki(function(e){var t=Vi(e),n=Oi(e)?e.changedTouches[0]:e,r=n.clientX,n=n.clientY;l=l||Date.now(),s.push({x:r,y:n,id:X.getId(t),timeOffset:Date.now()-l}),G("undefined"!=typeof DragEvent&&e instanceof DragEvent?ye.Drag:e instanceof MouseEvent?ye.MouseMove:ye.TouchMove)},t,{trailing:!(s=[])}),V=[wi("mousemove",T,m),wi("touchmove",T,m),wi("drag",T,m)],function(){V.forEach(function(e){return e()})})),ae=Xi(e),ie=Ji(e),oe=(J=e.viewportResizeCb,c=u=-1,wi("resize",ki(function(){var e=Ei(),t=Ci();u===e&&c===t||(J({width:Number(t),height:Number(e)}),u=e,c=t)},200),window)),se=(Y=(t=e).inputCb,d=t.doc,$=t.mirror,Q=t.blockClass,ee=t.ignoreClass,h=t.maskInputOptions,te=t.maskInputFn,T=t.sampling,f=t.userTriggeredOnInput,p=("last"===T.input?["change"]:["input","change"]).map(function(e){return wi(e,le,d)}),t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),T=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]],t&&t.set&&p.push.apply(p,ge([],be(T.map(function(e){return Si(e[0],e[1],{set:function(){le({target:this})}})})),!1)),function(){p.forEach(function(e){return e()})});function le(e){var t,n,r,a=Vi(e),e=e.isTrusted;!(a=a&&"OPTION"===a.tagName?a.parentElement:a)||!a.tagName||$i.indexOf(a.tagName)<0||Ri(a,Q)||(t=a.type,a.classList.contains(ee))||(r=a.value,n=!1,"radio"===t||"checkbox"===t?n=a.checked:(h[a.tagName.toLowerCase()]||h[t])&&(r=Ja({maskInputOptions:h,tagName:a.tagName,type:t,value:r,maskInputFn:te})),ue(a,Yi({text:r,isChecked:n,userTriggered:e},f)),r=a.name,"radio"===t&&r&&n&&d.querySelectorAll('input[type="radio"][name="'.concat(r,'"]')).forEach(function(e){e!==a&&ue(e,Yi({text:e.value,isChecked:!n,userTriggered:!1},f))}))}function ue(e,t){var n=Qi.get(e);n&&n.text===t.text&&n.isChecked===t.isChecked||(Qi.set(e,t),n=$.getId(e),Y(ve(ve({},t),{id:n})))}var m,v,b,g,y,w,_,k,S,x,E,C,R,T,O,I,N,ce,A,de=to(e),he=(m={win:o},v=e.styleSheetRuleCb,b=e.mirror,g=m.win,y=g.CSSStyleSheet.prototype.insertRule,g.CSSStyleSheet.prototype.insertRule=function(e,t){var n=b.getId(this.ownerNode);return-1!==n&&v({id:n,adds:[{rule:e,index:t}]}),y.apply(this,arguments)},w=g.CSSStyleSheet.prototype.deleteRule,g.CSSStyleSheet.prototype.deleteRule=function(e){var t=b.getId(this.ownerNode);return-1!==t&&v({id:t,removes:[{index:e}]}),w.apply(this,arguments)},_={},Zi?_.CSSGroupingRule=g.CSSGroupingRule:(Wi&&(_.CSSMediaRule=g.CSSMediaRule),Gi&&(_.CSSConditionRule=g.CSSConditionRule),qi&&(_.CSSSupportsRule=g.CSSSupportsRule)),k={},Object.entries(_).forEach(function(e){var e=be(e,2),r=e[0],e=e[1];k[r]={insertRule:e.prototype.insertRule,deleteRule:e.prototype.deleteRule},e.prototype.insertRule=function(e,t){var n=b.getId(this.parentStyleSheet.ownerNode);return-1!==n&&v({id:n,adds:[{rule:e,index:ge(ge([],be(eo(this)),!1),[t||0],!1)}]}),k[r].insertRule.apply(this,arguments)},e.prototype.deleteRule=function(e){var t=b.getId(this.parentStyleSheet.ownerNode);return-1!==t&&v({id:t,removes:[{index:ge(ge([],be(eo(this)),!1),[e],!1)}]}),k[r].deleteRule.apply(this,arguments)}}),function(){g.CSSStyleSheet.prototype.insertRule=y,g.CSSStyleSheet.prototype.deleteRule=w,Object.entries(_).forEach(function(e){var e=be(e,2),t=e[0],e=e[1];e.prototype.insertRule=k[t].insertRule,e.prototype.deleteRule=k[t].deleteRule})}),fe=(t={win:o},S=e.styleDeclarationCb,x=e.mirror,E=t.win,C=E.CSSStyleDeclaration.prototype.setProperty,E.CSSStyleDeclaration.prototype.setProperty=function(e,t,n){var r=x.getId(null==(r=null==(r=this.parentRule)?void 0:r.parentStyleSheet)?void 0:r.ownerNode);return-1!==r&&S({id:r,set:{property:e,value:t,priority:n},index:eo(this.parentRule)}),C.apply(this,arguments)},R=E.CSSStyleDeclaration.prototype.removeProperty,E.CSSStyleDeclaration.prototype.removeProperty=function(e){var t=x.getId(null==(t=null==(t=this.parentRule)?void 0:t.parentStyleSheet)?void 0:t.ownerNode);return-1!==t&&S({id:t,remove:{property:e},index:eo(this.parentRule)}),R.apply(this,arguments)},function(){E.CSSStyleDeclaration.prototype.setProperty=C,E.CSSStyleDeclaration.prototype.removeProperty=R}),pe=e.collectFonts&&(ce=(T=e).fontCb,A=(T=T.doc).defaultView)?(O=[],I=new WeakMap,N=A.FontFace,A.FontFace=function(e,t,n){var r=new N(e,t,n);return I.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r},T=xi(T.fonts,"add",function(e){return function(t){return setTimeout(function(){var e=I.get(t);e&&(ce(e),I.delete(t))},0),e.apply(this,[t])}}),O.push(function(){A.FontFace=N}),O.push(T),function(){O.forEach(function(e){return e()})}):function(){},me=[];try{for(var D=Ka(e.plugins),L=D.next();!L.done;L=D.next()){var M=L.value;me.push(M.observer(M.callback,o,M.options))}}catch(e){n={error:e}}finally{try{L&&!L.done&&(r=D.return)&&r.call(D)}finally{if(n)throw n.error}}return function(){ji.forEach(function(e){return e.reset()}),ne.disconnect(),re(),ae(),ie(),oe(),se(),de(),he(),fe(),pe(),me.forEach(function(e){return e()})}}ao.prototype.addIframe=function(e){this.iframes.set(e,!0)},ao.prototype.addLoadListener=function(e){this.loadListener=e},ao.prototype.attachIframe=function(e,t){this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null!=(t=this.loadListener)&&t.call(this,e)};var ro=ao;function ao(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}oo.prototype.addShadowRoot=function(e,t){Ki(ve(ve({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e),Ji(ve(ve({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))},oo.prototype.observeAttachShadow=function(n){var r;n.contentWindow&&(r=this).restorePatches.push(xi(n.contentWindow.HTMLElement.prototype,"attachShadow",function(t){return function(){var e=t.apply(this,arguments);return this.shadowRoot&&r.addShadowRoot(this.shadowRoot,n.contentDocument),e}}))},oo.prototype.reset=function(){this.restorePatches.forEach(function(e){return e()})};var io=oo;function oo(e){this.restorePatches=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror;var n=this;this.restorePatches.push(xi(HTMLElement.prototype,"attachShadow",function(t){return function(){var e=t.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,this.ownerDocument),e}}))}function so(o,n,s){var t,e,r=[],a=Object.getOwnPropertyNames(n.CanvasRenderingContext2D.prototype);try{for(var i=Ka(a),l=i.next();!l.done;l=i.next())!function(i){try{if("function"!=typeof n.CanvasRenderingContext2D.prototype[i])return;var t=xi(n.CanvasRenderingContext2D.prototype,i,function(t){return function(){for(var r=this,a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return Ri(this.canvas,s)||setTimeout(function(){var e,t,n=ge([],be(a),!1);"drawImage"===i&&n[0]&&n[0]instanceof HTMLCanvasElement&&(t=null==(e=null==(e=(t=n[0]).getContext("2d"))?void 0:e.getImageData(0,0,t.width,t.height))?void 0:e.data,n[0]=JSON.stringify(t)),o(r.canvas,{type:ci["2D"],property:i,args:n})},0),t.apply(this,a)}});r.push(t)}catch(e){t=Si(n.CanvasRenderingContext2D.prototype,i,{set:function(e){o(this.canvas,{type:ci["2D"],property:i,args:[e],setter:!0})}});r.push(t)}}(l.value)}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return function(){r.forEach(function(e){return e()})}}for(var lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uo="undefined"==typeof Uint8Array?[]:new Uint8Array(256),co=0;co<lo.length;co++)uo[lo.charCodeAt(co)]=co;var ho=new Map;var fo=function(e,t,n){var r;if(e&&(vo(e,t)||"object"==typeof e))return t=e.constructor.name,n=n,t=t,(r=ho.get(n))||(r=new Map,ho.set(n,r)),r.has(t)||r.set(t,[]),-1===(r=(n=r.get(t)).indexOf(e))&&(r=n.length,n.push(e)),r};function po(e,t,n){return e instanceof Array?e.map(function(e){return po(e,t,n)}):null===e?e:e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray?{rr_type:e.constructor.name,args:[Object.values(e)]}:e instanceof ArrayBuffer?{rr_type:e.constructor.name,base64:function(e){for(var t=new Uint8Array(e),n=t.length,r="",a=0;a<n;a+=3)r=(r=(r=(r+=lo[t[a]>>2])+lo[(3&t[a])<<4|t[a+1]>>4])+lo[(15&t[a+1])<<2|t[a+2]>>6])+lo[63&t[a+2]];return n%3==2?r=r.substring(0,r.length-1)+"=":n%3==1&&(r=r.substring(0,r.length-2)+"=="),r}(e)}:e instanceof DataView?{rr_type:e.constructor.name,args:[po(e.buffer,t,n),e.byteOffset,e.byteLength]}:e instanceof HTMLImageElement?{rr_type:e.constructor.name,src:e.src}:e instanceof ImageData?{rr_type:e.constructor.name,args:[po(e.data,t,n),e.width,e.height]}:vo(e,t)||"object"==typeof e?{rr_type:e.constructor.name,index:fo(e,t,n)}:e}var mo=function(e,t,n){return ge([],be(e),!1).map(function(e){return po(e,t,n)})},vo=function(t,n){var e=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(function(e){return"function"==typeof n[e]});return Boolean(e.find(function(e){return t instanceof n[e]}))};function bo(o,s,l,u,c,d){var t,e,n=[],r=Object.getOwnPropertyNames(o);try{for(var a=Ka(r),i=a.next();!i.done;i=a.next())!function(i){try{if("function"!=typeof o[i])return;var t=xi(o,i,function(a){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=a.apply(this,e);return fo(r,d,o),Ri(this.canvas,u)||(c.getId(this.canvas),n=mo(ge([],be(e),!1),d,o),l(this.canvas,{type:s,property:i,args:n})),r}});n.push(t)}catch(e){t=Si(o,i,{set:function(e){l(this.canvas,{type:s,property:i,args:[e],setter:!0})}});n.push(t)}}(i.value)}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return n}wo.prototype.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},wo.prototype.freeze=function(){this.frozen=!0},wo.prototype.unfreeze=function(){this.frozen=!1},wo.prototype.lock=function(){this.locked=!0},wo.prototype.unlock=function(){this.locked=!1},wo.prototype.initCanvasMutationObserver=function(e,t){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var n,r,a,i=function(e,a){var t=[];try{var n=xi(e.HTMLCanvasElement.prototype,"getContext",function(r){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Ri(this,a)||"__context"in this||(this.__context=e),r.apply(this,ge([e],be(t),!1))}});t.push(n)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){t.forEach(function(e){return e()})}}(e,t),o=so(this.processMutation.bind(this),e,t,this.mirror),s=(n=this.processMutation.bind(this),e=e,t=t,r=this.mirror,(a=[]).push.apply(a,ge([],be(bo(e.WebGLRenderingContext.prototype,ci.WebGL,n,t,r,e)),!1)),void 0!==e.WebGL2RenderingContext&&a.push.apply(a,ge([],be(bo(e.WebGL2RenderingContext.prototype,ci.WebGL2,n,t,r,e)),!1)),function(){a.forEach(function(e){return e()})});this.resetObservers=function(){i(),o(),s()}},wo.prototype.startPendingCanvasMutationFlusher=function(){var e=this;requestAnimationFrame(function(){return e.flushPendingCanvasMutations()})},wo.prototype.startRAFTimestamping=function(){function t(e){n.rafStamps.latestId=e,requestAnimationFrame(t)}var n=this;requestAnimationFrame(t)},wo.prototype.flushPendingCanvasMutations=function(){var r=this;this.pendingCanvasMutations.forEach(function(e,t){var n=r.mirror.getId(t);r.flushPendingCanvasMutationFor(t,n)}),requestAnimationFrame(function(){return r.flushPendingCanvasMutations()})},wo.prototype.flushPendingCanvasMutationFor=function(e,t){var n,r;this.frozen||this.locked||(r=this.pendingCanvasMutations.get(e))&&-1!==t&&(n=r.map(function(e){e.type;var t=e,n=["type"],r={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)n.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}),r=r[0].type,this.mutationCb({id:t,type:r,commands:n}),this.pendingCanvasMutations.delete(e))};var j,go,yo=wo;function wo(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(e,t){(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)},this.mutationCb=e.mutationCb,this.mirror=e.mirror,!0===e.recordCanvas&&this.initCanvasMutationObserver(e.win,e.blockClass)}function Z(e){return ve(ve({},e),{timestamp:Date.now()})}var _o={map:{},getId:function(e){return e&&e.__sn?e.__sn.id:-1},getNode:function(e){return this.map[e]||null},removeNodeFromMap:function(e){var t=this,n=e.__sn&&e.__sn.id;delete this.map[n],e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})},has:function(e){return this.map.hasOwnProperty(e)},reset:function(){this.map={}}};function ko(e){var r=(e=void 0===e?{}:e).emit,a=e.checkoutEveryNms,i=e.checkoutEveryNth,t=e.blockClass,g=void 0===t?"rr-block":t,t=e.blockSelector,y=void 0===t?null:t,t=e.ignoreClass,n=void 0===t?"rr-ignore":t,t=e.maskTextClass,w=void 0===t?"rr-mask":t,t=e.maskTextSelector,_=void 0===t?null:t,t=e.inlineStylesheet,k=void 0===t||t,t=e.maskAllInputs,o=e.maskInputOptions,s=e.slimDOMOptions,l=e.maskInputFn,S=e.maskTextFn,z=e.hooks,u=e.packFn,c=e.sampling,d=void 0===c?{}:c,c=e.mousemoveWait,h=e.recordCanvas,x=void 0!==h&&h,h=e.userTriggeredOnInput,F=void 0!==h&&h,h=e.collectFonts,U=void 0!==h&&h,h=e.inlineImages,E=void 0!==h&&h,f=e.plugins,h=e.keepIframeSrcFn,H=void 0===h?function(){return!1}:h;if(!r)throw new Error("emit function is required");void 0!==c&&void 0===d.mousemove&&(d.mousemove=c);function p(e){j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.Mutation},e)}))}function m(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.Scroll},e)}))}function v(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.CanvasMutation},e)}))}var b,C,R=!0===t?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==o?o:{password:!0},T=!0===s||"all"===s?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===s,headMetaDescKeywords:"all"===s}:s||{},O=("NodeList"in(b=void 0===b?window:b)&&!b.NodeList.prototype.forEach&&(b.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in b&&!b.DOMTokenList.prototype.forEach&&(b.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1}),0),P=function(e){var t,n;try{for(var r=Ka(f||[]),a=r.next();!a.done;a=r.next()){var i=a.value;i.eventProcessor&&(e=i.eventProcessor(e))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e=u?u(e):e},I=(j=function(e,t){var n;null==(n=ji[0])||!n.isFrozen()||e.type===B.FullSnapshot||e.type===B.IncrementalSnapshot&&e.data.source===ye.Mutation||ji.forEach(function(e){return e.unfreeze()}),r(P(e),t),e.type===B.FullSnapshot?(C=e,O=0):e.type!==B.IncrementalSnapshot||e.data.source===ye.Mutation&&e.data.isAttachIframe||(O++,n=i&&i<=O,t=a&&e.timestamp-C.timestamp>a,(n||t)&&go(!0))},new ro({mutationCb:p})),N=new yo({recordCanvas:x,mutationCb:v,win:window,blockClass:g,mirror:_o}),A=new io({mutationCb:p,scrollCb:m,bypassOptions:{blockClass:g,blockSelector:y,maskTextClass:w,maskTextSelector:_,inlineStylesheet:k,maskInputOptions:R,maskTextFn:S,maskInputFn:l,recordCanvas:x,inlineImages:E,sampling:d,slimDOMOptions:T,iframeManager:I,canvasManager:N},mirror:_o});go=function(e){void 0===e&&(e=!1),j(Z({type:B.Meta,data:{href:window.location.href,width:Ci(),height:Ei()}}),e),ji.forEach(function(e){return e.lock()});var t,n,r,a,i,o,s,l,u,c,d,h,f,p,m=be((e=document,m=(t=(t={blockClass:g,blockSelector:y,maskTextClass:w,maskTextSelector:_,inlineStylesheet:k,maskAllInputs:R,maskTextFn:S,slimDOM:T,recordCanvas:x,inlineImages:E,onSerialize:function(e){Ii(e)&&I.addIframe(e),Ni(e)&&A.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){I.attachIframe(e,t),A.observeAttachShadow(e)},keepIframeSrcFn:H})||{}).blockClass,v=t.blockSelector,b=t.maskTextClass,n=t.maskTextSelector,r=t.inlineStylesheet,a=t.inlineImages,i=t.recordCanvas,o=void 0!==(o=t.maskAllInputs)&&o,s=t.maskTextFn,l=t.maskInputFn,u=void 0!==(u=t.slimDOM)&&u,c=t.dataURLOptions,d=t.preserveWhiteSpace,h=t.onSerialize,f=t.onIframeLoad,p=t.iframeLoadTimeout,t=t.keepIframeSrcFn,[yi(e,{doc:e,map:e={},blockClass:void 0===m?"rr-block":m,blockSelector:void 0===v?null:v,maskTextClass:void 0===b?"rr-mask":b,maskTextSelector:void 0===n?null:n,skipChild:!1,inlineStylesheet:void 0===r||r,maskInputOptions:!0===o?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===o?{password:!0}:o,maskTextFn:s,maskInputFn:l,slimDOMOptions:!0===u||"all"===u?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===u,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===u?{}:u,dataURLOptions:c,inlineImages:void 0!==a&&a,recordCanvas:void 0!==i&&i,preserveWhiteSpace:d,onSerialize:h,onIframeLoad:f,iframeLoadTimeout:p,keepIframeSrcFn:void 0===t?function(){return!1}:t}),e]),2),v=m[0],b=m[1];if(!v)return console.warn("Failed to snapshot the document");_o.map=b,j(Z({type:B.FullSnapshot,data:{node:v,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null==(r=null==(n=null===document||void 0===document?void 0:document.body)?void 0:n.parentElement)?void 0:r.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null==(s=null==(o=null===document||void 0===document?void 0:document.body)?void 0:o.parentElement)?void 0:s.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),ji.forEach(function(e){return e.unlock()})};try{var D=[],L=(D.push(wi("DOMContentLoaded",function(){j(Z({type:B.DomContentLoaded,data:{}}))})),function(e){return no({mutationCb:p,mousemoveCb:function(e,t){return j(Z({type:B.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.MouseInteraction},e)}))},scrollCb:m,viewportResizeCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.ViewportResize},e)}))},inputCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.Input},e)}))},mediaInteractionCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.StyleSheetRule},e)}))},styleDeclarationCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.StyleDeclaration},e)}))},canvasMutationCb:v,fontCb:function(e){return j(Z({type:B.IncrementalSnapshot,data:ve({source:ye.Font},e)}))},blockClass:g,ignoreClass:n,maskTextClass:w,maskTextSelector:_,maskInputOptions:R,inlineStylesheet:k,sampling:d,recordCanvas:x,inlineImages:E,userTriggeredOnInput:F,collectFonts:U,doc:e,maskInputFn:l,maskTextFn:S,blockSelector:y,slimDOMOptions:T,mirror:_o,iframeManager:I,shadowDomManager:A,canvasManager:N,plugins:(null==(e=null==f?void 0:f.filter(function(e){return e.observer}))?void 0:e.map(function(t){return{observer:t.observer,options:t.options,callback:function(e){return j(Z({type:B.Plugin,data:{plugin:t.name,payload:e}}))}}}))||[]},z)}),M=(I.addLoadListener(function(e){D.push(L(e.contentDocument))}),function(){go(),D.push(L(document))});return"interactive"===document.readyState||"complete"===document.readyState?M():D.push(wi("load",function(){j(Z({type:B.Load,data:{}})),M()},window)),function(){D.forEach(function(e){return e()})}}catch(e){console.warn(e)}}ko.addCustomEvent=function(e,t){if(!j)throw new Error("please add custom event after start recording");j(Z({type:B.Custom,data:{tag:e,payload:t}}))},ko.freezePage=function(){ji.forEach(function(e){return e.freeze()})},ko.takeFullSnapshot=function(e){if(!go)throw new Error("please take full snapshot after start recording");go(e)},ko.mirror=_o;var So={handleHttp:function(e,t){var n=Ha(e);e.url.includes(k.dsn)||_.push({type:t,category:_.getCategory(t),data:n,status:n.status,time:e.time}),"error"===n.status&&Ma.send(Ia(Ia({},n),{type:t,status:b.ERROR}))},handleError:function(e){try{var t,n=e.target;if(!n||e.target&&!e.target.localName){var r=qa.parse(n?e.error:e)[0],a=r.fileName,i=r.columnNumber,o=r.lineNumber,s={type:g.ERROR,status:b.ERROR,time:w(),message:e.message,fileName:a,line:o,column:i},l=(_.push({type:g.ERROR,category:_.getCategory(g.ERROR),data:s,time:w(),status:b.ERROR}),va("".concat(g.ERROR,"-").concat(e.message,"-").concat(a,"-").concat(i)));if(!k.repeatCodeError||k.repeatCodeError&&!ba(l))return Ma.send(s)}if(null!=n&&n.localName)return u=n,t={time:w(),message:(Ea(u.src,120)||Ea(u.href,120))+"; 资源加载失败",name:u.localName},_.push({type:g.RESOURCE,category:_.getCategory(g.RESOURCE),status:b.ERROR,time:w(),data:t}),Ma.send(Ia(Ia({},t),{type:g.RESOURCE,status:b.ERROR}))}catch(e){}var u},handleHistory:function(e){var t=e.from,e=e.to,t=ma(t).relative,e=ma(e).relative;_.push({type:g.HISTORY,category:_.getCategory(g.HISTORY),data:{from:t||"/",to:e||"/"},time:w(),status:b.OK})},handleHashchange:function(e){var t=e.oldURL,e=e.newURL,t=ma(t).relative,e=ma(e).relative;_.push({type:g.HASHCHANGE,category:_.getCategory(g.HASHCHANGE),data:{from:t,to:e},time:w(),status:b.OK})},handleUnhandleRejection:function(e){try{var t=qa.parse(e.reason)[0],n=t.fileName,r=t.columnNumber,a=t.lineNumber,i=xa(e.reason.message||e.reason.stack),o={type:g.UNHANDLEDREJECTION,status:b.ERROR,time:w(),message:i,fileName:n,line:a,column:r},s=(_.push({type:g.UNHANDLEDREJECTION,category:_.getCategory(g.UNHANDLEDREJECTION),time:w(),status:b.ERROR,data:o}),va("".concat(g.UNHANDLEDREJECTION,"-").concat(i,"-").concat(n,"-").concat(r)));k.repeatCodeError&&(!k.repeatCodeError||ba(s))||Ma.send(o)}catch(e){}},handlePerformance:function(){try{var t=function(e){var t=e.name,n=e.rating,e=e.value;Ma.send({type:g.PERFORMANCE,status:b.OK,time:w(),name:t,rating:n,value:e})};if(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)){{var a=function(e){t(e)};var i=new PerformanceObserver(function(e){for(var t=0,n=e.getEntries();t<n.length;t++){var r=n[t],r=(i.disconnect(),r.processingStart-r.startTime);a({name:"FID",value:r,rating:100<r?"poor":"good"})}});i.observe({type:"first-input",buffered:!0})}{var o=function(e){t(e)};var s=new PerformanceObserver(function(e){for(var t=0,n=e.getEntries();t<n.length;t++){var r=n[t];"first-contentful-paint"===r.name&&(s.disconnect(),o({name:"FCP",value:r.startTime,rating:2500<r.startTime?"poor":"good"}))}});s.observe({type:"paint",buffered:!0})}{var l=function(e){t(e)};var u=new PerformanceObserver(function(e){for(var t=0,n=e.getEntries();t<n.length;t++){var r=n[t];u.disconnect(),l({name:"LCP",value:r.startTime,rating:2500<r.startTime?"poor":"good"})}});u.observe({type:"largest-contentful-paint",buffered:!0})}{var c=function(e){t(e)};var d=0,h=0,f=[],p=new PerformanceObserver(function(e){for(var t=0,n=e.getEntries();t<n.length;t++){var r,a,i=n[t];i.hadRecentInput||(r=f[0],a=f[f.length-1],h&&i.startTime-a.startTime<1e3&&i.startTime-r.startTime<5e3?(h+=i.value,f.push(i)):(h=i.value,f=[i]),d<h&&(d=h,p.disconnect(),c({name:"CLS",value:d,rating:2500<d?"poor":"good"})))}});p.observe({type:"layout-shift",buffered:!0})}{var n=function(e){t(e)};ya(y,"load",function(){var e=y.performance.timing,e=e.responseStart-e.navigationStart;n({name:"TTFB",value:e,rating:100<e?"poor":"good"})})}}else ls(function(e){t(e)}),os(function(e){t(e)}),ns(function(e){t(e)}),ts(function(e){t(e)}),us(function(e){t(e)});var m=function(e){t({name:"FSP",value:e,rating:2500<e?"poor":"good"})},v=["STYLE","SCRIPT","LINK"];(qo=new MutationObserver(function(e){!function e(t){cancelAnimationFrame(Wo);Wo=requestAnimationFrame(function(){(ds="complete"===document.readyState?!0:ds)?(qo&&qo.disconnect(),cs=fs(),hs=[],t&&t(cs)):e(t)})}(m);for(var t={children:[],startTime:0},n=0,r=e;n<r.length;n++){var a=r[n];if(a.addedNodes.length&&vs(a.target))for(var i=0,o=a.addedNodes;i<o.length;i++){var s=o[i];1===s.nodeType&&!v.includes(s.tagName)&&vs(s)&&t.children.push(s)}}t.children.length&&(hs.push(t),t.startTime=(new Date).getTime())})).observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!0})}catch(e){}new PerformanceObserver(function(e){for(var t=0,n=e.getEntries();t<n.length;t++){var r=n[t];Ma.send({type:g.PERFORMANCE,name:"longTask",longTask:r,time:w(),status:b.OK})}}).observe({entryTypes:["longtask"]}),ya(y,"load",function(){Ma.send({type:g.PERFORMANCE,name:"resource_list",time:w(),status:b.OK,resourceList:function(){{var e;if(performance.getEntriesByType)return(e=performance.getEntriesByType("resource").filter(function(e){return-1===["fetch","xmlhttprequest","beacon"].indexOf(e.initiatorType)})).length&&(e=JSON.parse(JSON.stringify(e))).forEach(function(e){e.isCache=0===(e=e).transferSize||0!==e.transferSize&&0===e.encodedBodySize}),e}}()}),performance.memory&&Ma.send({type:g.PERFORMANCE,name:"memory",time:w(),status:b.OK,memory:{jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize}})})},handleScreen:function(){try{var r=[];ko({emit:function(e,t){var n;t&&(m.hasError?(t=m.recordScreenId,m.recordScreenId=Sa(),Ma.send({type:g.RECORDSCREEN,recordScreenId:t,time:w(),status:b.OK,events:(t=r)&&(t="string"!=typeof t&&"number"!=typeof t?JSON.stringify(t):t,t=jr.encode(t),t=fr.gzip(t),t=Array.from(t),n="",t.forEach(function(e){n+=String.fromCharCode(e)}),jr.btoa(n))}),r=[],m.hasError=!1):(r=[],m.recordScreenId=Sa())),r.push(e)},recordCanvas:!0,checkoutEveryNms:1e3*k.recordScreentime})}catch(e){}},handleWhiteScreen:function(){try{o=function(e){Ma.send(Ia({type:g.WHITESCREEN,time:w()},e))},s=k.skeletonProject,t=k.whiteBoxElements,l=0,u=[],c=[],s?"complete"!=document.readyState&&e():"complete"===document.readyState?e():y.addEventListener("load",e)}catch(e){}function a(e){e=(e=e).id?"#"+e.id:e.className?"."+e.className.split(" ").filter(function(e){return!!e}).join("."):e.nodeName.toLowerCase();return s&&(l?c:u).push(e),-1!=(null==t?void 0:t.indexOf(e))}function e(){for(var e=0,t=1;t<=9;t++){var n=document.elementsFromPoint(y.innerWidth*t/10,y.innerHeight/2),r=document.elementsFromPoint(y.innerWidth/2,y.innerHeight*t/10);a(n[0])&&e++,5!=t&&a(r[0])&&e++}if(17!=e){if(s){if(!l)return i();if(c.join()==u.join())return o({status:b.ERROR})}m._loopTimer&&(clearTimeout(m._loopTimer),m._loopTimer=null)}else m._loopTimer||i();o({status:17==e?b.ERROR:b.OK})}function i(){m._loopTimer||(m._loopTimer=setInterval(function(){s&&(l++,c=[]),e()},1e3))}var o,s,t,l,u,c}};function xo(e){return k.filterXhrUrlRegExp&&k.filterXhrUrlRegExp.test(e)}function Eo(e){switch(e){case g.WHITESCREEN:Va(g.WHITESCREEN);break;case g.XHR:"XMLHttpRequest"in y&&(wa(n=XMLHttpRequest.prototype,"open",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.websee_xhr={method:ua.isString(e[0])?e[0].toUpperCase():e[0],url:e[1],sTime:w(),type:R.XHR},n.apply(this,e)}}),wa(n,"send",function(n){return function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=this.websee_xhr,i=t.method,o=t.url;ya(this,"loadend",function(){var e,t,n,r;i===O.Post&&Ma.isSdkTransportUrl(o)||xo(o)||(e=this.responseType,t=this.response,n=this.status,this.websee_xhr.requestData=a[0],r=w(),this.websee_xhr.time=this.websee_xhr.sTime,this.websee_xhr.Status=n,-1!==["","json","text"].indexOf(e)&&k.handleHttpStatus&&"function"==typeof k.handleHttpStatus&&(this.websee_xhr.response=t&&JSON.parse(t)),this.websee_xhr.elapsedTime=r-this.websee_xhr.sTime,Va(g.XHR,this.websee_xhr))}),n.apply(this,a)}}));break;case g.FETCH:"fetch"in y&&wa(y,g.FETCH,function(n){return function(r,e){void 0===e&&(e={});var a=w(),i=e&&e.method||"GET",o={type:R.FETCH,method:i,requestData:e&&e.body,url:r,response:""},t=new Headers(e.headers||{});return Object.assign(t,{setRequestHeader:t.set}),e=Object.assign({},e,t),n.apply(y,[r,e]).then(function(e){var t=e.clone(),n=w();return o=Object.assign({},o,{elapsedTime:n-a,Status:t.status,time:a}),t.text().then(function(e){i===O.Post&&Ma.isSdkTransportUrl(r)||xo(r)||(k.handleHttpStatus&&"function"==typeof k.handleHttpStatus&&(o.response=e),Va(g.FETCH,o))}),e},function(e){var t=w();if(!(i===O.Post&&Ma.isSdkTransportUrl(r)||xo(r)))throw o=Object.assign({},o,{elapsedTime:t-a,status:0,time:a}),Va(g.FETCH,o),e})}});break;case g.ERROR:ya(y,"error",function(e){console.log(e),Va(g.ERROR,e)},!0);break;case g.HISTORY:!function(){var e=(e=y.chrome)&&e.app&&e.app.runtime,t="history"in y&&!!y.history.pushState&&!!y.history.replaceState;return!e&&t}()||(a=y.onpopstate,y.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ga(),r=Ro;Ro=n,Va(g.HISTORY,{from:r,to:n}),a&&a.apply(this,e)},wa(y.history,"pushState",r),wa(y.history,"replaceState",r));break;case g.UNHANDLEDREJECTION:ya(y,g.UNHANDLEDREJECTION,function(e){Va(g.UNHANDLEDREJECTION,e)});break;case g.CLICK:"document"in y&&(t=_a(Va,k.throttleDelayTime),ya(y.document,"click",function(){t(g.CLICK,{category:"click",data:this})},!0));break;case g.HASHCHANGE:!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(y,"onhashchange")||ya(y,g.HASHCHANGE,function(e){Va(g.HASHCHANGE,e)});break;case g.PERFORMANCE:Va(g.PERFORMANCE);break;case g.RECORDSCREEN:Va(g.RECORDSCREEN)}var t,a,n;function r(a){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=2<e.length?e[2]:void 0;return r&&(n=Ro,r=String(r),Ro=r,Va(g.HISTORY,{from:n,to:r})),a.apply(this,e)}}}function Co(e){var t,n;!(t=e)||pa(t.type)||(fa(t.type,!0),Ga[t.type]=Ga[t.type]||[],null!=(n=Ga[t.type])&&n.push(t.callback),0)||Eo(e.type)}var Ro=ga();function To(){Co({callback:function(){So.handleWhiteScreen()},type:g.WHITESCREEN}),Co({callback:function(e){So.handleHttp(e,g.XHR)},type:g.XHR}),Co({callback:function(e){So.handleHttp(e,g.FETCH)},type:g.FETCH}),Co({callback:function(e){So.handleError(e)},type:g.ERROR}),Co({callback:function(e){So.handleHistory(e)},type:g.HISTORY}),Co({callback:function(e){So.handleUnhandleRejection(e)},type:g.UNHANDLEDREJECTION}),Co({callback:function(e){e=e.data.activeElement;var t,n,r="body"===(n=e.tagName.toLowerCase())?"":(t=""!==(t=e.classList.value)?" class='".concat(t,"'"):"",r=e.id?' id="'.concat(e.id,'"'):"",e=e.innerText,"<".concat(n).concat(r).concat(""!==t?t:"",">").concat(e,"</").concat(n,">"));r&&_.push({type:g.CLICK,status:b.OK,category:_.getCategory(g.CLICK),data:r,time:w()})},type:g.CLICK}),Co({callback:function(e){So.handleHashchange(e)},type:g.HASHCHANGE}),Co({callback:function(){So.handlePerformance()},type:g.PERFORMANCE}),Co({callback:function(){So.handleScreen()},type:g.RECORDSCREEN})}function Oo(e,t){var n=Ko(),r="navigate";return 0<=Go?r="back-forward-cache":n&&(r=document.prerendering||0<Xo()?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}}function Io(e,t,n){try{var r;if(PerformanceObserver.supportedEntryTypes.includes(e))return(r=new PerformanceObserver(function(e){Promise.resolve().then(function(){t(e.getEntries())})})).observe(Object.assign({type:e,buffered:!0},n||{})),r}catch(e){}}function No(t,n,r,a){var i,o;return function(e){0<=n.value&&(e||a)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,n.rating=(e=n.value)>r[1]?"poor":e>r[0]?"needs-improvement":"good",t(n))}}function Ao(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})}function Do(t){function e(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||t(e)}addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)}function Lo(t){var n=!1;return function(e){n||(t(e),n=!0)}}function Mo(){return Jo<0&&(Jo=Yo(),Qo(),Vo(function(){setTimeout(function(){Jo=Yo(),Qo()},0)})),{get firstHiddenTime(){return Jo}}}function zo(e,t){Po||(Po=t,Bo=e,jo=new Date,Uo(removeEventListener),Fo())}function Fo(){var t;0<=Bo&&Bo<jo-as&&(t={entryType:"first-input",name:Po.type,target:Po.target,cancelable:Po.cancelable,startTime:Po.timeStamp,processingStart:Po.timeStamp+Bo},Zo.forEach(function(e){e(t)}),Zo=[])}function Uo(t){["mousedown","keydown","touchstart","pointerdown"].forEach(function(e){return t(e,is,rs)})}function Ho(e){document.prerendering?es(function(){return Ho(e)}):"complete"!==document.readyState?addEventListener("load",function(){return Ho(e)},!0):setTimeout(e,0)}var Po,Bo,jo,Zo,Wo,qo,Go=-1,Vo=function(t){addEventListener("pageshow",function(e){e.persisted&&(Go=e.timeStamp,t(e))},!0)},Ko=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Xo=function(){var e=Ko();return e&&e.activationStart||0},Jo=-1,Yo=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},$o=function(e){"hidden"===document.visibilityState&&-1<Jo&&(Jo="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",$o,!0),removeEventListener("prerenderingchange",$o,!0))},Qo=function(){addEventListener("visibilitychange",$o,!0),addEventListener("prerenderingchange",$o,!0)},es=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},ts=function(o,s){s=s||{},es(function(){var t,n=[1800,3e3],r=Mo(),a=Oo("FCP"),i=Io("paint",function(e){e.forEach(function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime)&&(a.value=Math.max(e.startTime-Xo(),0),a.entries.push(e),t(!0))})});i&&(t=No(o,a,n,s.reportAllChanges),Vo(function(e){a=Oo("FCP"),t=No(o,a,n,s.reportAllChanges),Ao(function(){a.value=performance.now()-e.timeStamp,t(!0)})}))})},ns=function(s,l){l=l||{},ts(Lo(function(){function e(e){e.forEach(function(e){var t,n;e.hadRecentInput||(t=i[0],n=i[i.length-1],a&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,i.push(e)):(a=e.value,i=[e]))}),a>r.value&&(r.value=a,r.entries=i,t())}var t,n=[.1,.25],r=Oo("CLS",0),a=0,i=[],o=Io("layout-shift",e);o&&(t=No(s,r,n,l.reportAllChanges),Do(function(){e(o.takeRecords()),t(!0)}),Vo(function(){r=Oo("CLS",a=0),t=No(s,r,n,l.reportAllChanges),Ao(function(){return t()})}),setTimeout(t,0))}))},rs={passive:!0,capture:!0},as=new Date,is=function(e){var t,n,r,a;function i(){zo(n,r),a()}function o(){a()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,a=function(){removeEventListener("pointerup",i,rs),removeEventListener("pointercancel",o,rs)},addEventListener("pointerup",i,rs),addEventListener("pointercancel",o,rs)):zo(t,e))},os=function(s,l){l=l||{},es(function(){function e(e){e.forEach(a)}var t=[100,300],n=Mo(),r=Oo("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),o(!0))},i=Io("first-input",e),o=No(s,r,t,l.reportAllChanges);i&&Do(Lo(function(){e(i.takeRecords()),i.disconnect()})),i&&Vo(function(){var e;r=Oo("FID"),o=No(s,r,t,l.reportAllChanges),Zo=[],Bo=-1,Po=null,Uo(addEventListener),e=a,Zo.push(e),Fo()})})},ss={},ls=function(s,l){l=l||{},es(function(){function e(e){var t;(e=e[e.length-1])&&(t=Math.max(e.startTime-Xo(),0))<a.firstHiddenTime&&(i.value=t,i.entries=[e],n())}var n,t,r=[2500,4e3],a=Mo(),i=Oo("LCP"),o=Io("largest-contentful-paint",e);o&&(n=No(s,i,r,l.reportAllChanges),t=Lo(function(){ss[i.id]||(e(o.takeRecords()),o.disconnect(),ss[i.id]=!0,n(!0))}),["keydown","click"].forEach(function(e){addEventListener(e,t,!0)}),Do(t),Vo(function(e){i=Oo("LCP"),n=No(s,i,r,l.reportAllChanges),Ao(function(){i.value=performance.now()-e.timeStamp,ss[i.id]=!0,n(!0)})}))})},us=function(n,r){r=r||{};var a=[800,1800],i=Oo("TTFB"),o=No(n,i,a,r.reportAllChanges);Ho(function(){var e,t=Ko();!t||(e=t.responseStart)<=0||e>performance.now()||(i.value=Math.max(e-Xo(),0),i.entries=[t],o(!0),Vo(function(){i=Oo("TTFB",0),(o=No(n,i,a,r.reportAllChanges))(!0)}))})},cs=0,ds=!1,hs=[];function fs(){var t=0;return hs.forEach(function(e){e.startTime>t&&(t=e.startTime)}),t-performance.timing.navigationStart}var ps=y.innerWidth,ms=y.innerHeight;function vs(e){e=e.getBoundingClientRect();return e.left<ps&&e.top<ms}function bs(e){if(!e.dsn||!e.apikey)return console.error("web-see 缺少必须配置项：".concat(e.dsn?"apikey":"dsn"," "));"fetch"in y&&!e.disabled&&(Ua(e),To())}return{SDK_VERSION:N,SDK_NAME:"web-see",init:bs,install:function(e,t){var r;pa(g.VUE)||(fa(g.VUE,!0),r=e.config.errorHandler,e.config.errorHandler=function(e,t,n){console.log(e),So.handleError(e),r&&r.apply(null,[e,t,n])},bs(t))},errorBoundary:function(e){pa(g.REACT)||(fa(g.REACT,!0),So.handleError(e))},log:function(e){var t=void 0===(t=e.message)?"customMsg":t,n=void 0===(n=e.error)?"":n,e=void 0===(e=e.type)?g.CUSTOM:e;try{var r,a={};!function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return}}(n)||(r=qa.parse(n.target?n.error||n.reason:n)[0],a=Ia(Ia({},r),{line:r.lineNumber,column:r.columnNumber})),_.push({type:e,status:b.ERROR,category:_.getCategory(g.CUSTOM),data:xa(t),time:w()}),Ma.send(Ia({type:e,status:b.ERROR,message:xa(t),time:w()},a))}catch(e){}}}});
//# sourceMappingURL=index.min.js.map
